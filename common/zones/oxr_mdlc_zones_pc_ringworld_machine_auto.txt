# Zones for the auto-ringworld
## R&D Slot
oxr_mdlc_zone_pc_ringworld_machine_auto_research = {
	icon = GFX_diplomatic_weight_large
	base_buildtime = @zone_buildtime
	potential = {
		hidden_trigger = { exists = owner }
		is_xvcv_mdlc_pc_ringworld_machine_auto = yes
	}
	unlock = { is_xvcv_mdlc_pc_ringworld_machine_auto = yes }

	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = {
			minerals = @oxr_rw_cost
		}
	}

	# Modifier value is multiplied by the District Level
	district_planet_modifier = {
		xvcv_mdlc_world_machines_rnd_districts_energy_upkeep_add = @rw_maintenance
		xvcv_mdlc_world_machines_rnd_districts_exotic_gases_upkeep_add = @rw_maintenance_sr
	}
	
	# Boost the cost of the district
	planet_modifier = {
		xvcv_mdlc_world_machines_rnd_districts_minerals_cost_add = @oxr_rw_cost
		xvcv_mdlc_world_machines_rnd_districts_exotic_gases_cost_add = @oxr_rw_cost_sr
	}

	inline_script = {
		script = planet/zones/auto/oxr_wm_research_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_rnd_districts
		JOBS = 12
	}

	max_buildings = 3
	included_building_sets = {
		research
		oxr_mdlc_building_set_wm_research
	}
	excluded_building_sets = { }
	zone_sets = {
		oxr_mdlc_zone_set_wm_research
		oxr_mdlc_zone_set_wm_rnd
	}
}

# unity
oxr_mdlc_zone_pc_ringworld_machine_auto_unity = {
	icon = GFX_diplomatic_weight_large
	base_buildtime = @zone_buildtime
	potential = {
		hidden_trigger = { exists = owner }
		is_xvcv_mdlc_pc_ringworld_machine_auto = yes
	}

	unlock = { is_xvcv_mdlc_pc_ringworld_machine_auto = yes }

	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = {
			minerals = @oxr_rw_cost
		}
	}

	# Modifier value is multiplied by the District Level
	# produces
	triggered_district_planet_modifier = {
		potential = { exists = owner }
		xvcv_mdlc_world_machines_rnd_districts_unity_produces_add = @[ 12 * oxr_mdlc_wm_base_coordinator_output ]
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
	}

	# upkeep, does not need trigger because no mult
	district_planet_modifier = {
		xvcv_mdlc_world_machines_rnd_districts_energy_upkeep_add = @[ 12 * oxr_mdlc_wm_base_coordinator_upkeep ]
	}
	max_buildings = 3
	included_building_sets = {
		unity
		oxr_mdlc_building_set_wm_unity
	}
	excluded_building_sets = { }
	zone_sets = {
		oxr_mdlc_zone_set_wm_unity
		oxr_mdlc_zone_set_wm_rnd
	}
}

# trade
oxr_mdlc_zone_pc_ringworld_machine_auto_trade = {
	icon = GFX_resource_trade_large
	base_buildtime = @zone_buildtime
	potential = {
		hidden_trigger = { exists = owner }
		is_xvcv_mdlc_pc_ringworld_machine_auto = yes
	}

	unlock = { is_xvcv_mdlc_pc_ringworld_machine_auto = yes }

	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { minerals = @oxr_rw_cost }
	}
	triggered_district_planet_modifier = {
		potential = { exists = owner }
		trade = @[ 12 * oxr_mdlc_wm_base_logistics_drone_output ]
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
	}

	district_planet_modifier = {
		xvcv_mdlc_world_machines_rnd_districts_energy_upkeep_add = @[ 12 * oxr_mdlc_wm_base_logistics_drone_output ]
		# xvcv_mdlc_world_machines_rnd_districts_exotic_gases_upkeep_add = @rw_maintenance_sr
		# xvcv_mdlc_world_machines_rnd_districts_minerals_cost_add = @oxr_rw_cost
		# xvcv_mdlc_world_machines_rnd_districts_exotic_gases_cost_add = @oxr_rw_cost_sr
	}
	max_buildings = 3
	included_building_sets = {
		trade
		oxr_mdlc_building_set_wm_trade
	}
	excluded_building_sets = { }
	zone_sets = {
		oxr_mdlc_zone_set_wm_trade
		oxr_mdlc_zone_set_wm_rnd
	}
}

## Production Slot
# Alloys
oxr_mdlc_zone_pc_ringworld_machine_auto_alloys = {
	icon = GFX_colony_type_foundry
	base_buildtime = @zone_buildtime
	potential = {
		hidden_trigger = { exists = owner }
		is_xvcv_mdlc_pc_ringworld_machine_auto = yes
	}

	unlock = { is_xvcv_mdlc_pc_ringworld_machine_auto = yes }

	district_planet_modifier = {
		xvcv_mdlc_world_machines_rnd_districts_volatile_motes_upkeep_add = @rw_maintenance_sr
		xvcv_mdlc_world_machines_rnd_districts_volatile_motes_cost_add = @oxr_rw_cost_sr
	}

	inline_script = {
		script = planet/zones/auto/oxr_wm_alloys_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_rnd_districts
		JOBS = 12
	}

	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { minerals = @oxr_rw_cost }
	}
	max_buildings = 3
	included_building_sets = {
		foundry
		oxr_mdlc_building_set_wm_production
	}
	excluded_building_sets = { }
	zone_sets = {
		oxr_mdlc_zone_set_wm_production
	}
}

# Goods
oxr_mdlc_zone_pc_ringworld_machine_auto_consumer_goods = {
	icon = GFX_colony_type_factory
	base_buildtime = @zone_buildtime
	potential = {
		hidden_trigger = { exists = owner }
		is_xvcv_mdlc_pc_ringworld_machine_auto = yes
	}

	unlock = { is_xvcv_mdlc_pc_ringworld_machine_auto = yes }

	inline_script = {
		script = planet/zones/auto/oxr_wm_consumer_goods_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_rnd_districts
		JOBS = 12
	}

	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { minerals = @oxr_rw_cost }
	}
	max_buildings = 3
	included_building_sets = {
		factory
		oxr_mdlc_building_set_wm_production
	}
	excluded_building_sets = { }
	zone_sets = {
		oxr_mdlc_zone_set_wm_production
	}
}

## Raw Resources slot
oxr_mdlc_zone_pc_ringworld_machine_auto_food = {
		icon = GFX_resource_food_large
	base_buildtime = @zone_buildtime
	potential = {
		hidden_trigger = { exists = owner }
		is_xvcv_mdlc_pc_ringworld_machine_auto = yes
	}

	unlock = { is_xvcv_mdlc_pc_ringworld_machine_auto = yes }

	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = {
			minerals = @zone_cost
		}
	}
	# Ringworld-specific upkeep
	district_planet_modifier = {
		xvcv_mdlc_world_machines_raw_resources_districts_rare_crystals_upkeep_add = @rw_maintenance_sr
	}
	inline_script = {
		script = planet/zones/auto/oxr_wm_food_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_raw_resources
		JOBS = 12
	}

	max_buildings = 3
	included_building_sets = {
		hydroponics
		farming
		oxr_mdlc_building_set_wm_raw_resource
	}
	excluded_building_sets = { }
	zone_sets = {
		oxr_mdlc_zone_set_wm_raw_resources
	}
}

oxr_mdlc_zone_pc_ringworld_machine_auto_energy = {
	icon = GFX_resource_energy_large
	base_buildtime = @zone_buildtime
	potential = {
		hidden_trigger = { exists = owner }
		is_xvcv_mdlc_pc_ringworld_machine_auto = yes
	}

	unlock = { is_xvcv_mdlc_pc_ringworld_machine_auto = yes }

	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = {
			minerals = @zone_cost
		}
	}

	district_planet_modifier = {
		xvcv_mdlc_world_machines_raw_resources_districts_energy_upkeep_add = 12  # one per 'drone'
		xvcv_mdlc_world_machines_raw_resources_districts_rare_crystals_upkeep_add = @rw_maintenance_sr
	}

	triggered_district_planet_modifier = {
		# What was once in the district's 'produces' block
		xvcv_mdlc_world_machines_raw_resources_districts_food_produces_add =  @[ 12 * oxr_mdlc_wm_base_technician_output ]
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		# district's old 'upkeep' block
	}

	max_buildings = 3

	included_building_sets = {
		generator
		oxr_mdlc_building_set_wm_raw_resource
	}

	excluded_building_sets = { }
	zone_sets = {
		oxr_mdlc_zone_set_wm_raw_resources
	}
}
