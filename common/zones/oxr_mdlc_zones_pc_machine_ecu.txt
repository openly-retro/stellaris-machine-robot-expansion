# ECU zones
# PRODUCTION ZONES
oxr_mdlc_zone_pc_machine_ecu_alloys = {
	icon = GFX_district_specialization_foundry
	# Build time, potential, unlock, etc
	inline_script = planet/zones/oxr_wm_zone_base_ecu

	swap_type = xvcv_mdlc_pc_machine_ecu_district_alloys
	swap_type_weight = 5
	
	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { 
			minerals = @zone_cost
			volatile_motes = @oxr_rw_cost_sr
		}
	}

	# Modify base district output, upkeep, and cost
	inline_script = {
		script = planet/zones/auto/oxr_wm_alloys_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_production_districts
		JOBS = @oxr_t3_planet_district_jobs
	}

	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }

	included_building_sets = {
		foundry
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_foundry
		oxr_mdlc_building_set_wm_strategic
	}

	zone_sets = {
		oxr_mdlc_zone_set_wm_production
	}
}

oxr_mdlc_zone_pc_machine_ecu_consumer_goods = {
	icon = GFX_district_specialization_factory
	inline_script = planet/zones/oxr_wm_zone_base_ecu
	
	swap_type = xvcv_mdlc_pc_machine_ecu_district_goods
	swap_type_weight = 5
	
	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { 
			minerals = @zone_cost
			rare_crystals = @oxr_rw_cost_sr
		}
	}

	# Modify base district output, upkeep, and cost
	inline_script = {
		script = planet/zones/auto/oxr_wm_consumer_goods_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_production_districts
		JOBS = @oxr_t3_planet_district_jobs
	}

	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }

	included_building_sets = {
		factory
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_factory
		oxr_mdlc_building_set_wm_strategic
	}

	ai_resource_production = {
		consumer_goods = 10
		trigger = { always = yes }
	}
	
	zone_sets = {
		oxr_mdlc_zone_set_wm_production
	}
}

# STRATEGIC RESOURCE ZONES
oxr_mdlc_zone_pc_machine_ecu_triple_strategic_resources = {
	icon = GFX_rikk_mdlc_district_specialization_triple_refinery
	inline_script = planet/zones/oxr_wm_zone_base_ecu_no_unlock
	unlock = {
		owner = { 
			oxr_mdlc_planet_owner_can_build_wm_districts = yes
			has_technology = tech_exotic_gases
			has_technology = tech_volatile_motes
			has_technology = tech_rare_crystals
		}
	}
	
	# Modify base district output, upkeep, and cost
	inline_script = {
		script = planet/zones/ecu/oxr_wm_rare_crystals_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_strategic_resource_districts
		JOBS = @oxr_t1_planet_district_jobs
	}
	inline_script = {
		script = planet/zones/ecu/oxr_wm_volatile_motes_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_strategic_resource_districts
		JOBS = @oxr_t1_planet_district_jobs
	}
	inline_script = {
		script = planet/zones/ecu/oxr_wm_exotic_gases_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_strategic_resource_districts
		JOBS = @oxr_t1_planet_district_jobs
	}
	
	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }
	
	included_building_sets = {
		industrial
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_strategic
	}
	
	
	zone_sets = {
		oxr_mdlc_zone_set_wm_strategic_resources
	}
}

oxr_mdlc_zone_pc_machine_ecu_rare_crystals = {
	icon = GFX_district_specialization_rare_crystals
	inline_script = planet/zones/oxr_wm_zone_base_ecu_no_unlock
	unlock = {
		hidden_trigger = { exists = owner }
		owner = { 
			oxr_mdlc_planet_owner_can_build_wm_districts = yes
			has_technology = tech_rare_crystals
		}
	}
	
	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { 
			minerals = @zone_cost
		}
	}

	# Modify base district output, upkeep, and cost
	inline_script = {
		script = planet/zones/ecu/oxr_wm_rare_crystals_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_strategic_resource_districts
		JOBS = @oxr_t3_planet_district_jobs
	}

	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }

	included_building_sets = {
		industrial
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_strategic
	}
	
	zone_sets = {
		oxr_mdlc_zone_set_wm_strategic_resources
	}
}

oxr_mdlc_zone_pc_machine_ecu_volatile_motes = {
	icon = GFX_district_specialization_volatile_motes
	inline_script = planet/zones/oxr_wm_zone_base_ecu_no_unlock
	unlock = {
		hidden_trigger = { exists = owner }
		owner = { 
			oxr_mdlc_planet_owner_can_build_wm_districts = yes
			has_technology = tech_volatile_motes
		}
	}
	
	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { 
			minerals = @zone_cost
		}
	}

	# Modify base district output, upkeep, and cost
	inline_script = {
		script = planet/zones/ecu/oxr_wm_volatile_motes_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_strategic_resource_districts
		JOBS = @oxr_t3_planet_district_jobs
	}

	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }

	included_building_sets = {
		industrial
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_strategic
	}
	
	zone_sets = {
		oxr_mdlc_zone_set_wm_strategic_resources
	}
}

oxr_mdlc_zone_pc_machine_ecu_exotic_gases = {
	icon = GFX_district_specialization_exotic_gases
	inline_script = planet/zones/oxr_wm_zone_base_ecu_no_unlock
	unlock = {
		hidden_trigger = { exists = owner }
		owner = { 
			oxr_mdlc_planet_owner_can_build_wm_districts = yes
			has_technology = tech_exotic_gases
		}
	}
	
	
	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { 
			minerals = @zone_cost
		}
	}

	# Modify base district output, upkeep, and cost
	inline_script = {
		script = planet/zones/ecu/oxr_wm_exotic_gases_zone_production
		DISTRICT_CATEGORY = xvcv_mdlc_world_machines_strategic_resource_districts
		JOBS = @oxr_t3_planet_district_jobs
	}

	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }

	included_building_sets = {
		industrial
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_strategic
	}
	
	zone_sets = {
		oxr_mdlc_zone_set_wm_strategic_resources
	}
}

# RARE STRATEGIC RESOURCES
oxr_mdlc_zone_pc_machine_ecu_dark_matter_drawing = {
	icon = GFX_district_specialization_industrial
	
	potential = {
		exists = owner
		owner = { 
			has_technology = rikk_mdlc_tech_rare_resource_synthesizer
			has_technology = tech_mine_dark_matter
		}
	}
	
	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { 
			minerals = @zone_cost
			sr_dark_matter = @b5_rare_cost
		}
	}

	# Modify base district output, upkeep, and cost
	triggered_planet_modifier = {
		xvcv_mdlc_world_machines_strategic_resource_districts_sr_dark_matter_produces_add = 1
		xvcv_mdlc_world_machines_strategic_resource_districts_energy_upkeep_add = @[ 10 * oxr_mdlc_wm_base_chemist_drone_upkeep ]
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
	}

	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }

	planet_modifier = {
		zone_building_slots_add = 3
	}
	
	included_building_sets = {
		industrial
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_strategic
	}

	ai_resource_production = {
		sr_dark_matter = 1
		trigger = { always = yes }
	}
	
	zone_sets = {
		oxr_mdlc_zone_set_wm_strategic_resources
	}
}
oxr_mdlc_zone_pc_machine_ecu_living_metal_breeding = {
	icon = GFX_district_specialization_industrial
	
	potential = {
		exists = owner
		owner = { has_technology = rikk_mdlc_tech_rare_resource_synthesizer }
	}
	
	unlock = { owner = { has_technology = tech_mine_living_metal } }
	
	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { 
			minerals = @zone_cost
			sr_living_metal = @b5_rare_cost
		}
	}

	# Modify base district output, upkeep, and cost
	triggered_planet_modifier = {
		xvcv_mdlc_world_machines_strategic_resource_districts_sr_living_metal_produces_add = 1
		xvcv_mdlc_world_machines_strategic_resource_districts_alloys_upkeep_add = @oxr_mdlc_wm_base_chemist_drone_upkeep
		xvcv_mdlc_world_machines_strategic_resource_districts_energy_upkeep_add = @[ 5 * oxr_mdlc_wm_base_chemist_drone_upkeep ]
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
	}

	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }

	planet_modifier = {
		zone_building_slots_add = 3
	}
	
	included_building_sets = {
		industrial
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_strategic
	}

	ai_resource_production = {
		sr_living_metal = 1
		trigger = { always = yes }
	}
	
	zone_sets = {
		oxr_mdlc_zone_set_wm_strategic_resources
	}
}
oxr_mdlc_zone_pc_machine_ecu_nanite_feeding = {
	icon = GFX_district_specialization_industrial
	
	potential = {
		exists = owner
		owner = { has_technology = rikk_mdlc_tech_rare_resource_synthesizer }
	}
	
	unlock = { 
		owner = { 
			OR = {
				has_tradition = tr_nanotech_1
				has_active_tradition = tr_nanotech_1
				has_technology = tech_nanite_transmutation
			}
		}
	}
	
	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { 
			minerals = @zone_cost
			nanites = @b5_rare_cost
		}
	}

	# Modify base district output, upkeep, and cost
	triggered_planet_modifier = {
		potential = { owner = { NOR = { has_tradition = tr_nanotech_1 has_active_tradition = tr_nanotech_1 } } }
		xvcv_mdlc_world_machines_strategic_resource_districts_nanites_produces_add = 1
		xvcv_mdlc_world_machines_strategic_resource_districts_minerals_upkeep_add = @[ 5 * oxr_mdlc_wm_base_chemist_drone_upkeep ]
		xvcv_mdlc_world_machines_strategic_resource_districts_food_upkeep_add = @[ 5 * oxr_mdlc_wm_base_chemist_drone_upkeep ]
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
	}
	triggered_planet_modifier = {
		potential = { owner = { OR = { has_tradition = tr_nanotech_1 has_active_tradition = tr_nanotech_1 } } }
		xvcv_mdlc_world_machines_strategic_resource_districts_nanites_produces_add = 4
		xvcv_mdlc_world_machines_strategic_resource_districts_minerals_upkeep_add = @oxr_mdlc_wm_base_chemist_drone_upkeep
		xvcv_mdlc_world_machines_strategic_resource_districts_food_upkeep_add = @oxr_mdlc_wm_base_chemist_drone_upkeep
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
	}

	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }
	
	planet_modifier = {
		zone_building_slots_add = 3
	}
	
	included_building_sets = {
		industrial
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_strategic
	}
	
	ai_resource_production = {
		nanites = 1
		trigger = { always = yes }
	}
	
	zone_sets = {
		oxr_mdlc_zone_set_wm_strategic_resources
	}
}
oxr_mdlc_zone_pc_machine_ecu_zro_summoning = {
	icon = GFX_district_specialization_industrial
	
	potential = {
		exists = owner
		owner = { has_technology = rikk_mdlc_tech_rare_resource_synthesizer}
	}
	
	unlock = { owner = { has_technology = tech_mine_zro } }
	
	resources = {
		category = oxr_mdlc_world_machines_zones
		cost = { 
			minerals = @zone_cost
			sr_zro = @b5_rare_cost
		}
	}

	# Modify base district output, upkeep, and cost
	triggered_planet_modifier = {
		xvcv_mdlc_world_machines_strategic_resource_districts_sr_zro_produces_add = 1
		xvcv_mdlc_world_machines_strategic_resource_districts_energy_upkeep_add = @[ 10 * oxr_mdlc_wm_base_chemist_drone_upkeep ]
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
	}

	triggered_desc = { trigger = { always = yes } text = rikk_mdlc_zone_swap_tt }

	planet_modifier = {
		zone_building_slots_add = 3
	}
	
	included_building_sets = {
		industrial
		automation
		origin
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_strategic
	}

	ai_resource_production = {
		sr_zro = 1
		trigger = { always = yes }
	}
	
	zone_sets = {
		oxr_mdlc_zone_set_wm_strategic_resources
	}
}

# MILITARY ZONES
oxr_mdlc_zone_pc_machine_ecu_star_command = {
	icon = GFX_oxr_mdlc_wm_district_specialization_military_space
	inline_script = planet/zones/oxr_wm_zone_base_ecu

	included_building_sets = {
		military_theory
		oxr_mdlc_building_set_wm_military
	}
	triggered_district_country_modifier = {
		potential = { always = yes }
		country_naval_cap_add = 24
		mult = planet.oxr_mdlc_world_machines_districts_output_var
	}
	zone_sets = {
		oxr_mdlc_zone_set_wm_military
	}
}

oxr_mdlc_zone_pc_machine_ecu_ground_command = {
	icon = GFX_oxr_mdlc_wm_district_specialization_military_ground
	inline_script = planet/zones/oxr_wm_zone_base_ecu

	included_building_sets = {
		military_theory
		oxr_mdlc_building_set_wm_military
	}

	triggered_district_planet_modifier = {
		potential = { always = yes }
		planet_army_build_speed_mult = 0.1
		army_defense_health_mult = 0.1
		army_collateral_damage_mult = -0.1
		mult = planet.oxr_mdlc_world_machines_districts_output_var
	}
	zone_sets = {
		oxr_mdlc_zone_set_wm_military
	}
}

oxr_mdlc_zone_pc_machine_ecu_military_supply_chain = {
	icon = GFX_oxr_mdlc_wm_district_specialization_military_trade
	inline_script = planet/zones/oxr_wm_zone_base_ecu

	included_building_sets = {
		military_theory
		oxr_mdlc_building_set_wm_military
	}
	triggered_district_planet_modifier = {
		xvcv_mdlc_world_machines_military_districts_trade_produces_add = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_logistics_drone_output ]
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
	}
	triggered_district_country_modifier = {
		ship_speed_mult = 0.01
		mult = planet.oxr_mdlc_world_machines_districts_output_var
	}
	zone_sets = {
		oxr_mdlc_zone_set_wm_military
	}
}
