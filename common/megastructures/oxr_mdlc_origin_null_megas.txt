oxr_mdlc_origin_null_stellar_formatter = {
	entity = "xvcv_mdlc_planet_cracker_entity"
	portrait = "GFX_megastructure_xvcv_mdlc_planet_cracker"
	place_entity_on_planet_plane = yes
	show_galactic_map_icon = no
	show_in_outliner = no
	use_planet_resource = yes  # linked to deposit?
	build_time = 1  # change this later :)
	entity_offset = { x = 0 y = 0 }

	construction_blocks_and_blocked_by = none

	# upgrade_from = { xvcv_mdlc_planet_cracker_incomplete }
	dismantle_cost = { category = megastructures cost = { energy = 1 } }
	dismantle_time = 1
	dismantle_potential = { always = yes }
	dismantle_possible = { always = yes }

	possible = {
		hidden_trigger = {
			exists = starbase
		}
		custom_tooltip = {
			fail_text = "requires_inside_border"
			is_inside_border = from
		}
	}
	placement_rules = {
		planet_possible = {
			has_moon = no
			NOT = { has_planet_flag = megastructure }
		}
	}
	
	on_build_complete = {
		fromfrom.planet = {
			set_planet_flag = has_megastructure
		}
		oxr_mdlc_origin_null_formatter_entry_effect = yes
		# Start yearly consumption event
	}
	
	resources = {
		# category = station_gatherers
		category = oxr_mdlc_category_origin_null_production_megas
		cost = {
			energy = 1
		}

		## NORMAL HABITABLE PLANETS ##
		# Basic resources
		inline_script = {
			script = megas/resources/oxr_null_basic
			RESOUCE = food
		}
		inline_script = {
			script = megas/resources/oxr_null_basic
			RESOUCE = energy
		}
		inline_script = {
			script = megas/resources/oxr_null_basic
			RESOUCE = minerals
		}
	}

	on_dismantle_start = {
		fromfrom.planet = {
			# pause the consumption event
		}
	}
	on_dismantle_cancel = {
		fromfrom.planet = {
			# continue consumption event
		}
	}
	on_dismantle_complete = {
		fromfrom.planet = {
			# stop consumption and remove planet modifier
			remove_flag = has_megastructure
		}
	}
}