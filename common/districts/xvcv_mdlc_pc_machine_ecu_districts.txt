# Auto-Forge district set
xvcv_mdlc_pc_machine_ecu_district_cooling_primary = {
	inline_script = {
		script = planet/districts/auto/oxr_wm_cooling_base
		DISTRICT_SET = xvcv_mdlc_pc_machine_ecu_district_set
	}
}

xvcv_mdlc_pc_machine_ecu_district_production = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = no

	show_on_uncolonized = {
		exists = from
		from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}

	potential = {
		exists = owner
		owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}

	zone_slots = {
		oxr_mdlc_slot_pc_machine_ecu_production
	}

	resources = {
		category = xvcv_mdlc_world_machines_production_districts
				cost = {
			minerals = @oxr_rw_cost
		}
		cost = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = no
			}
			rare_crystals = @oxr_rw_cost_sr
		}
		cost = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = yes
			}
			volatile_motes = @oxr_rw_cost_sr
		}
		upkeep = {
			energy = @rw_maintenance
		}
		upkeep = {
			trigger = { has_oxr_mdlc_zone_pc_machine_ecu_alloys = no }
			rare_crystals = @rw_maintenance_sr
		}
		upkeep = {
			trigger = { has_oxr_mdlc_zone_pc_machine_ecu_alloys = yes }
			volatile_motes = @rw_maintenance_sr
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_edict = industrial_maintenance
				}
			}
			energy = 4
		}
		# NO ZONES, NOT CATALYTIC, NO GOODS
		produces = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = no
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = no
				oxr_planet_owner_is_catalytic = no
				oxr_planet_owner_uses_goods = no
			}
			# consumer_goods = @[ 6 * oxr_mdlc_wm_base_artisan_output ]
			# alloys = @[ 6 * oxr_mdlc_wm_base_fabricator_output ]
			alloys = @[ 6 * oxr_mdlc_wm_base_fabricator_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = no
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = no
				oxr_planet_owner_is_catalytic = no
				oxr_planet_owner_uses_goods = no
			}
			# minerals = @[ ( 6 * oxr_mdlc_wm_base_artisan_upkeep ) + ( 6 * oxr_mdlc_wm_base_fabricator_upkeep ) ]
			minerals = @[ 6 * oxr_mdlc_wm_base_fabricator_upkeep ]
		}
		# NO ZONES, YES CATALYTIC, NO GOODS
		produces = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = no
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = no
				oxr_planet_owner_is_catalytic = yes
				oxr_planet_owner_uses_goods = no
			}
			alloys = @[ 6 * oxr_mdlc_wm_base_catalytic_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = no
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = no
				oxr_planet_owner_is_catalytic = yes
				oxr_planet_owner_uses_goods = no
			}
			food = @[ 6 * oxr_mdlc_wm_base_catalytic_upkeep_food ]
		}
		# NO ZONES, NOT CATALYTIC, USES GOODS
		produces = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = no
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = no
				oxr_planet_owner_is_catalytic = no
				oxr_planet_owner_uses_goods = yes
			}
			consumer_goods = @[ 3 * oxr_mdlc_wm_base_artisan_output ]
			alloys = @[ 3 * oxr_mdlc_wm_base_fabricator_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = no
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = no
				oxr_planet_owner_is_catalytic = no
				oxr_planet_owner_uses_goods = yes
			}
			minerals = @[ ( 3 * oxr_mdlc_wm_base_artisan_upkeep ) + ( 3 * oxr_mdlc_wm_base_fabricator_upkeep ) ]
		}
		# NO ZONES, YES CATALYTIC, YES GOODS
		produces = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = no
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = no
				oxr_planet_owner_is_catalytic = no
				oxr_planet_owner_uses_goods = yes
			}
			consumer_goods = @[ 3 * oxr_mdlc_wm_base_artisan_output ]
			alloys = @[ 3 * oxr_mdlc_wm_base_catalytic_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = no
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = no
				oxr_planet_owner_is_catalytic = no
				oxr_planet_owner_uses_goods = yes
			}
			minerals = @[ 3 * oxr_mdlc_wm_base_artisan_upkeep ]
			food = @[ 3 * oxr_mdlc_wm_base_catalytic_output ]
		}
		#### ZONES ####
		# ALLOYS - NOT CATALYTIC
		produces = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = yes
				oxr_planet_owner_is_catalytic = no
			}
			alloys = @[ 6 * oxr_mdlc_wm_base_fabricator_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = yes
				oxr_planet_owner_is_catalytic = no
			}
			minerals = @[ 6 * oxr_mdlc_wm_base_fabricator_upkeep ]
		}
		# ALLOYS - CATALYTIC
		produces = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = yes
				oxr_planet_owner_is_catalytic = yes
			}
			alloys = @[ 6 * oxr_mdlc_wm_base_catalytic_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
		trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_alloys = yes
				oxr_planet_owner_is_catalytic = yes
			}
			food = @[ 6 * oxr_mdlc_wm_base_catalytic_upkeep_food ]
		}
		# GOODS
		produces = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = yes
			}
			consumer_goods = @[ 6 * oxr_mdlc_wm_base_artisan_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = {
				has_oxr_mdlc_zone_pc_machine_ecu_consumer_goods = yes
			}
			minerals = @[ 6 * oxr_mdlc_wm_base_artisan_upkeep ]
		}


	}

	conversion_ratio = 1
	inline_script = planet/districts/convert_to/oxr_wm_district_2

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	# Resources are managed in oxr_mdlc_zones_pc_machine_ecu.txt

	ai_resource_production = {
		alloys = 10
		trigger = { always = yes }
	}
	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
}

xvcv_mdlc_pc_machine_ecu_district_rare_resources = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = no

	show_on_uncolonized = {
		exists = from
		from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}
	potential = {
		exists = owner
		owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}

	conversion_ratio = 1
	inline_script = planet/districts/convert_to/oxr_wm_district_3

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	zone_slots = {
		oxr_mdlc_origin_wm_slot_any
	}

	resources = {
		category = xvcv_mdlc_world_machines_strategic_resource_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		produces = {
			volatile_motes = 8
			exotic_gases = 8
			rare_crystals = 8
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			minerals = 80
			energy = 10
		}
	}

	ai_resource_production = {
		volatile_motes = 2
		trigger = { always = yes }
	}
	ai_resource_production = {
		exotic_gases = 2
		trigger = { always = yes }
	}
	ai_resource_production = {
		rare_crystals = 2
		trigger = { always = yes }
	}
	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
}

xvcv_mdlc_pc_machine_ecu_district_naval_cap = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = no

	show_on_uncolonized = {
		exists = from
		from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}
	potential = {
		exists = owner
		owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}
	zone_slots = {
		oxr_mdlc_origin_wm_slot_any
	}

	conversion_ratio = 1
	inline_script = planet/districts/convert_to/oxr_wm_district_4

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	#see 'xvcv_mdlc_d_pc_machine_ecu_naval_cap' deposit for the actual effect
	triggered_desc = {
		text = xvcv_mdlc_pc_machine_ecu_district_naval_cap_effect_desc
	}

	resources = {
		category = xvcv_mdlc_world_machines_military_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = { volatile_motes = 100 }
		upkeep = {
			energy = 15
			volatile_motes = 1
		}
	}

	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
		planet = {
			set_or_increment_variable = {
				VAR = xvcv_mdlc_pc_machine_ecu_district_naval_cap_num
				AMOUNT = 1
			}
			set_or_increment_variable = {
				VAR = xvcv_mdlc_d_pc_machine_ecu_naval_cap_count
				AMOUNT = 1
			}
			add_deposit = xvcv_mdlc_d_pc_machine_ecu_naval_cap
		}
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
		planet = {
			dec_var_by_one = {
				which = xvcv_mdlc_pc_machine_ecu_district_naval_cap_num
			}
			dec_var_by_one = {
				which = xvcv_mdlc_d_pc_machine_ecu_naval_cap_count
			}
			remove_deposit = xvcv_mdlc_d_pc_machine_ecu_naval_cap
		}
	}
}

### SWAPS ###
xvcv_mdlc_pc_machine_ecu_district_alloys = {
	base_buildtime = @xvcv_mdlc_district_time_4
	# can_demolish = no
	is_capped_by_modifier = no

	zone_slots = {
		slot_empty
	}

	show_on_uncolonized = {
		always = no
	}

	potential = {
		always = no
	}

	# show_on_uncolonized = {
	# 	exists = from
	# 	from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
	# 	uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	# }
	# potential = {
	# 	exists = owner
	# 	owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
	# 	uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	# }
	# allow = {}

	# conversion_ratio = 1
	# convert_to = {
	# 	xvcv_mdlc_common_district_mining
	# 	district_mining_uncapped
	# 	xvcv_mdlc_pc_machine_cpu_district_physics
	# 	xvcv_mdlc_pc_machine_ser_district_unity
	# }

	# planet_modifier = {
	# 	xvcv_mdlc_world_machines_districts_produces_mult = -0.1
	# 	xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	# }

	resources = {
		category = xvcv_mdlc_world_machines_foundry_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = {
			volatile_motes = 100
		}
		produces = {
			trigger = {
				exists = owner
				owner = { is_catalytic_empire = no }
			}
			alloys = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_fabricator_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = { exists = owner }
			rare_crystals = 1
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = { is_catalytic_empire = no }
			}
			minerals = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_fabricator_upkeep ]
		}
		##
		# CATALYTIC
		##
		produces = {
			trigger = {
				exists = owner
				owner = { is_catalytic_empire = yes }
			}
			alloys = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_catalytic_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = { is_catalytic_empire = yes }
			}
			food = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_catalytic_upkeep_food ]
		}
	}

	ai_resource_production = {
		alloys = 10
		trigger = { always = yes }
	}
	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
}

xvcv_mdlc_pc_machine_ecu_district_goods = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = no

	zone_slots = {
		slot_empty
	}

	show_on_uncolonized = {
		always = no
	}

	potential = {
		always = no
	}

	# show_on_uncolonized = {
	# 	exists = from
	# 	from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
	# 	uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	# }
	# potential = {
	# 	exists = owner
	# 	owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
	# 	uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	# }

	# conversion_ratio = 1
	# convert_to = {
	# 	xvcv_mdlc_common_district_mining
	# 	district_mining_uncapped
	# 	xvcv_mdlc_pc_machine_cpu_district_society
	# 	xvcv_mdlc_pc_machine_ser_district_admin_cap
	# }

	# planet_modifier = {
	# 	xvcv_mdlc_world_machines_districts_produces_mult = -0.1
	# 	xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	# }

	# resources = {
	# 	category = xvcv_mdlc_world_machines_factory_districts
	# 	cost = {
	# 		minerals = @xvcv_mdlc_district_cost_5
	# 	}
	# 	cost = {
	# 		rare_crystals = 100
	# 	}
	# 	produces = {
	# 		consumer_goods = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_artisan_output ]
	# 		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
	# 	}
	# 	upkeep = {
	# 		minerals = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_artisan_upkeep ]
	# 		energy = 10
	# 		rare_crystals = 1
	# 	}
	# }

	# ai_resource_production = {
	# 	consumer_goods = 10
	# 	trigger = { always = yes }
	# }
	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
}
