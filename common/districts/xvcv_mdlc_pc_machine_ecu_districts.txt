# Auto-Forge district set
xvcv_mdlc_pc_machine_ecu_district_cooling_primary = {
	inline_script = {
		script = planet/districts/auto/oxr_wm_cooling_base
		DISTRICT_SET = xvcv_mdlc_pc_machine_ecu_district_set
	}
}

xvcv_mdlc_pc_machine_ecu_district_production = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_uncapped = {}

	show_on_uncolonized = {
		exists = from
		from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}

	potential = {
		exists = owner
		owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}

	zone_slots = {
		oxr_mdlc_slot_pc_machine_ecu_production
	}

	# Resources are managed in oxr_mdlc_zones_pc_machine_ecu.txt
	resources = {
		category = xvcv_mdlc_world_machines_production_districts
		cost = { minerals = @oxr_rw_cost }
		upkeep = { energy = @rw_maintenance }

		upkeep = {
			trigger = { owner = { has_edict = industrial_maintenance } }
			energy = 4
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
		}
	}

	conversion_ratio = 1
	inline_script = planet/districts/convert_to/oxr_wm_district_2

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	triggered_name = { text = xvcv_mdlc_pc_machine_ecu_district_production_triggered_name_none }

	ai_resource_production = {
		alloys = 10
		trigger = { always = yes }
	}
	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
}

xvcv_mdlc_pc_machine_ecu_district_rare_resources = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_uncapped = {}

	show_on_uncolonized = {
		exists = from
		from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}
	potential = {
		exists = owner
		owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}

	conversion_ratio = 1
	inline_script = planet/districts/convert_to/oxr_wm_district_3

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	zone_slots = {
		oxr_mdlc_slot_pc_machine_ecu_strategic_resources
	}

	resources = {
		category = xvcv_mdlc_world_machines_strategic_resource_districts
		cost = { minerals = @xvcv_mdlc_district_cost_5 }
		upkeep = { energy = @rw_maintenance }
	}

	triggered_name = {
		trigger = { has_oxr_mdlc_zone_pc_machine_ecu_triple_strategic_resources = yes }
		text = xvcv_mdlc_pc_machine_ecu_district_rare_resources_triggered_name_triple_strategic_resources
	}
	triggered_name = {
		trigger = { has_oxr_mdlc_zone_pc_machine_ecu_rare_crystals = yes }
		text = xvcv_mdlc_pc_machine_ecu_district_rare_resources_triggered_name_rare_crystals
	}
	triggered_name = {
		trigger = { has_oxr_mdlc_zone_pc_machine_ecu_volatile_motes = yes }
		text = xvcv_mdlc_pc_machine_ecu_district_rare_resources_triggered_name_volatile_motes
	}
	triggered_name = {
		trigger = { has_oxr_mdlc_zone_pc_machine_ecu_exotic_gases = yes }
		text = xvcv_mdlc_pc_machine_ecu_district_rare_resources_triggered_name_exotic_gases
	}
	triggered_name = { text = xvcv_mdlc_pc_machine_ecu_district_rare_resources_triggered_name_none }

	ai_resource_production = {
		volatile_motes = 2
		exotic_gases = 2
		rare_crystals = 2
		trigger = { always = yes }
	}
	
	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
}

xvcv_mdlc_pc_machine_ecu_district_naval_cap = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_uncapped = {}

	show_on_uncolonized = {
		exists = from
		from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}
	potential = {
		exists = owner
		owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ecu_district_set
	}
	zone_slots = {
		oxr_mdlc_slot_pc_machine_ecu_military
	}

	conversion_ratio = 1
	inline_script = planet/districts/convert_to/oxr_wm_district_4

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	#see 'xvcv_mdlc_d_pc_machine_ecu_naval_cap' deposit for the actual effect
	# triggered_desc = {
	# 	text = xvcv_mdlc_pc_machine_ecu_district_naval_cap_effect_desc
	# }

	resources = {
		category = xvcv_mdlc_world_machines_military_districts
		cost = { 
			minerals = @xvcv_mdlc_district_cost_5
			volatile_motes = 100
		}
		upkeep = {
			energy = 15
			volatile_motes = 1
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
		}
	}

	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
	triggered_name = {
		trigger = {
			has_oxr_mdlc_zone_pc_machine_ecu_star_command = yes
		}
		text = xvcv_mdlc_pc_machine_ecu_district_naval_cap_triggered_name_military_space
	}
	triggered_name = {
		trigger = {
			has_oxr_mdlc_zone_pc_machine_ecu_ground_command = yes
		}
		text = xvcv_mdlc_pc_machine_ecu_district_naval_cap_triggered_name_military_ground
	}
	triggered_name = {
		trigger = {
			has_oxr_mdlc_zone_pc_machine_ecu_military_supply_chain = yes
		}
		text = xvcv_mdlc_pc_machine_ecu_district_naval_cap_triggered_name_military_supply
	}
	triggered_name = {
		text = xvcv_mdlc_pc_machine_ecu_district_naval_cap_triggered_name_none
	}
}

### SWAPS ###
xvcv_mdlc_pc_machine_ecu_district_alloys = {
	base_buildtime = @xvcv_mdlc_district_time_4
	overlay_icon = GFX_district_alloys
	inline_script = { script = planet/districts/rikk_wm_swap_base }
	triggered_name = { text = xvcv_mdlc_pc_machine_ecu_district_production_triggered_name_alloy_forges }
}

xvcv_mdlc_pc_machine_ecu_district_goods = {
	base_buildtime = @xvcv_mdlc_district_time_4
	overlay_icon = GFX_district_consumer_goods
	inline_script = { script = planet/districts/rikk_wm_swap_base }
	triggered_name = { text = xvcv_mdlc_pc_machine_ecu_district_production_triggered_name_consumer_goods_factory }
}
