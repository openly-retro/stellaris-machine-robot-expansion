#### MACHINE_AUTO
# No auto-housing
oxr_mdlc_pc_frameworld_auto_district_generator = {
	base_buildtime = @xvcv_mdlc_district_time_2
	icon = xvcv_mdlc_pc_mechanical_district_generator
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
	}
	allow = {
		# custom_tooltip = {
		# 	fail_text = "oxr_mdlc_frameworld_insufficient_district_capacity"
		# 	check_modifier_value = {
		# 		modifier = oxr_mdlc_frameworld_planet_auto_machine_districts_max
		# 		value > 0
		# 	}
		# }
	}
	
	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add


	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_generator
		district_generator_uncapped
	}

	# produces
	resources = {
		inline_script = {
			script = planet/districts/auto/oxr_mdlc_generator
			JOBS = 2
		}
		produces = {
			trigger = { has_active_building = rikk_mdlc_world_machine_SR_building }
			volatile_motes = 0.20
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = { has_active_building = rikk_mdlc_world_machine_SR_building }
			minerals = 2
		}
	}
	triggered_desc = {
		trigger = {
			has_active_building = rikk_mdlc_world_machine_SR_building
		}
		text = xvcv_mdlc_generator_district_motes_produces
	}
	inline_script = planet/buildings/auto/oxr_auto_biofuel

	ai_resource_production = {
		energy = 20
		trigger = { always = yes }
	}
	on_built = {
		if = {
			limit = { 
				owner = { has_origin = oxr_mdlc_origin_world_machine_awakened }
			}
			owner = {
				fire_on_action = { on_action = on_world_machine_district_completed_country }
			}
			fire_on_action = { on_action = on_world_machine_district_completed_planet }
		}
	}
	# on_destroy = {
	# 	fire_on_action = { on_action = on_world_machine_district_demolished }
	# }
	inline_script = {
		script = planet/districts/auto/frameworld/oxr_fram_actions
		all = oxr_mdlc_d_auto_machine_outpost_uplink_basic_all
		which = oxr_mdlc_d_auto_machine_outpost_uplink_basic_energy
		on_queued = "# "
		on_unqueued = "# "
		on_destroy = "
			fire_on_action = { on_action = on_world_machine_district_demolished }
		"
	}
}
oxr_mdlc_pc_frameworld_auto_district_mining = {
	base_buildtime = @xvcv_mdlc_district_time_2
	icon = xvcv_mdlc_pc_mechanical_district_mining
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
	}
	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining
		district_mining_uncapped
	}

	resources = {
		# category = planet_miners
		category = xvcv_mdlc_world_machines_mining_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_2
		}
		produces = {
			minerals = @[ 2 * oxr_mdlc_wm_base_miner_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		produces = { 
			trigger = {
				exists = owner
				owner = {
					has_tradition = tr_nanotech_1
				}
			}
			nanites = @[ 2 * oxr_mdlc_wm_base_drone_nanite_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = { 
			energy = @xvcv_mdlc_pc_machine_auto_district_mining_upkeep  # 2 drones * 1, plus 1 base district upkeep 
		}
		produces = {
			trigger = {
				has_building = oxr_mdlc_world_machines_building_auto_mining_support
			}
			minerals = 1
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		produces = {
			trigger = {
				has_building = oxr_mdlc_world_machines_building_auto_mining_support
			}
			minerals = 2
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		produces = {
		trigger = { has_active_building = rikk_mdlc_world_machine_SR_building }
			rare_crystals = 0.20
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
			
		}
		upkeep = {
		trigger = { has_active_building = rikk_mdlc_world_machine_SR_building }
			energy = 1
		}
	}
	triggered_desc = {
		trigger = {
			has_active_building = rikk_mdlc_world_machine_SR_building
		}
		text = xvcv_mdlc_mining_district_crystals_produces
	}

	ai_resource_production = {
		minerals = 10
		trigger = { always = yes }
	}
	on_built = {
		if = {
			limit = { 
				owner = { has_origin = oxr_mdlc_origin_world_machine_awakened }
			}
			owner = {
				fire_on_action = { on_action = on_world_machine_district_completed_country }
			}
			fire_on_action = { on_action = on_world_machine_district_completed_planet }
		}
	}
	# on_destroy = {
	# 	fire_on_action = { on_action = on_world_machine_district_demolished }
	# }
	inline_script = {
		script = planet/districts/auto/frameworld/oxr_fram_actions
		all = oxr_mdlc_d_auto_machine_outpost_uplink_basic_all
		which = oxr_mdlc_d_auto_machine_outpost_uplink_basic_minerals
		on_queued = "# "
		on_unqueued = "# "
		on_destroy = "
			fire_on_action = { on_action = on_world_machine_district_demolished }
		"
	}

}
oxr_mdlc_pc_frameworld_auto_district_farming = {
	base_buildtime = @xvcv_mdlc_district_time_2
	icon = xvcv_mdlc_pc_mechanical_district_farming
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
	}
	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_farming
		district_farming_uncapped
	}

	resources = {
		category = xvcv_mdlc_world_machines_food_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_2
		}
		produces = {
			food = @[ 2 * oxr_mdlc_wm_base_farmer_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		produces = {
			trigger = {
				exists = owner
				owner = { has_tradition = tr_nanotech_1 }
			}
			nanites = @[ 2 * oxr_mdlc_wm_base_drone_nanite_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = { 
			energy = @xvcv_mdlc_pc_machine_auto_district_farming_upkeep
		}
		produces = {
		trigger = { has_active_building = rikk_mdlc_world_machine_SR_building }
			exotic_gases = 0.20
			# mult = value:collected_world_machine_bonuses
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
		trigger = { has_active_building = rikk_mdlc_world_machine_SR_building }
			energy = 1
		}
	}
	triggered_desc = {
		trigger = {
			has_active_building = rikk_mdlc_world_machine_SR_building
		}
		text = xvcv_mdlc_food_district_gas_produces
	}

	ai_resource_production = {
		food = 10
		trigger = { always = yes }
	}
	on_built = {
		if = {
			limit = { 
				owner = { has_origin = oxr_mdlc_origin_world_machine_awakened }
			}
			owner = {
				fire_on_action = { on_action = on_world_machine_district_completed_country }
			}
			fire_on_action = { on_action = on_world_machine_district_completed_planet }
		}
	}
	# on_destroy = {
	# 	fire_on_action = { on_action = on_world_machine_district_demolished }
	# }
	inline_script = {
		script = planet/districts/auto/frameworld/oxr_fram_actions
		all = oxr_mdlc_d_auto_machine_outpost_uplink_basic_all
		which = oxr_mdlc_d_auto_machine_outpost_uplink_basic_food
		on_queued = "# "
		on_unqueued = "# "
		on_destroy = "
			fire_on_action = { on_action = on_world_machine_district_demolished }
		"
	}
}
oxr_mdlc_pc_frameworld_auto_district_industrial = {
	base_buildtime = @xvcv_mdlc_district_time_3
	icon = xvcv_mdlc_pc_mechanical_district_industrial
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
	}
	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add

	conversion_ratio = 0.5
	convert_to = {
		xvcv_mdlc_pc_mechanical_district_industrial
		district_industrial
	}

	resources = {
		# category = planet_metallurgists
		category = xvcv_mdlc_world_machines_vanilla_industrial_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_3
		}
		upkeep = { energy = @xvcv_mdlc_pc_machine_auto_district_industrial_upkeep }
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					OR = {
						has_edict = oxr_mdlc_edict_wm_forge_subsidies
						has_edict = oxr_mdlc_edict_wm_industrial_subsidies
					}
				}
			}
			energy = 2
		}
		# Unless otherwise specified, all triggers in inline_scripts
		# are assumed to be for ethic_gestalt_consciousness
		# Since the AP is locked behind that.
		## Moved to inline_scripts for code organization
		# inline_script = planet/resources/produces/auto_industrial/oxr_mdlc_non_gestalt
		# inline_script = planet/resources/produces/auto_industrial/oxr_mdlc_servitor

		# Industrial districts give fabricator jobs
		# using goods = 1 fabricator, 1 artisan
		# not using goods = 2 fabricator
		# using goods, catalytic = 1 fabricator, 1 catalytic
		# not using goods, catalytic = 2 catalytic drones

		# not using goods, factory = 2 fabricators
		# using goods, factory = 2 fabricators
		# not using goods, forge = 2 artisan
		# not using goods, catalytic, forge = 2 catalytic

		# No colony designation: covers catalytic and "uses goods"
		# MULTS are 0 because they are for ringworld only
		inline_script = {
			script = planet/resources/produces/auto_industrial/oxr_mdlc_default
			JOBS = 2
			RARE = 0
		}
		# Factory designation
		inline_script = {
			script = planet/resources/produces/auto_industrial/oxr_mdlc_factory
			JOBS = 2
			RARE = 0
		}
		# Foundry designation
		inline_script = {
			script = planet/resources/produces/auto_industrial/oxr_mdlc_foundry
			JOBS = 2
			RARE = 0
		}
		# Servitor (COMMENTED OUT)
		# - bio pops cant live on machine worlds, what difference does it make?
		# inline_script = planet/resources/produces/auto_industrial/oxr_mdlc_servitor
		
		# Non-gestalt are not permitted to take the AP
		# And the planet will change its districts, so no reason
		# to maintain any special rules for individual machines (right now)
	}

	# Designation Job Changes

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		modifier = {
			planet_amenities_no_happiness_add = 4
		}
	}
	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add

	ai_resource_production = {
		alloys = 10
		trigger = { always = yes }
	}
	ai_resource_production = {
		consumer_goods = 10
		trigger = {
			owner = {
				OR = {
					country_uses_consumer_goods = yes
					has_valid_civic = xvcv_mdlc_civic_goods_distributor
				}
			}
		}
	}
	on_built = {
		if = {
			limit = { 
				owner = { has_origin = oxr_mdlc_origin_world_machine_awakened }
			}
			owner = {
				fire_on_action = { on_action = on_world_machine_district_completed_country }
			}
			fire_on_action = { on_action = on_world_machine_district_completed_planet }
		}
	}
	# on_destroy = {
	# 	fire_on_action = { on_action = on_world_machine_district_demolished }
	# }
	inline_script = {
		script = planet/districts/auto/frameworld/oxr_fram_actions
		all = oxr_mdlc_d_auto_machine_outpost_uplink_basic_all
		which = oxr_mdlc_d_auto_machine_outpost_uplink_basic_industrial
		on_queued = "# "
		on_unqueued = "# "
		on_destroy = "
			fire_on_action = { on_action = on_world_machine_district_demolished }
		"
	}
}

#### MACHINE_CPU
oxr_mdlc_pc_frameworld_cpu_district_physics = {
	icon = xvcv_mdlc_pc_machine_cpu_district_physics
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_cpu_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_ecu_district_alloys
		xvcv_mdlc_pc_machine_ser_district_unity
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}
	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add


	resources = {
		category = xvcv_mdlc_world_machines_science_districts
		# category = planet_researchers
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = { exotic_gases = 100 }
		produces = {
			trigger = {
				NOT = {
					has_active_building = oxr_mdlc_world_machines_building_fractal_fpga
				}
			}
			physics_research = @oxr_mdlc_cpu_district_base # was 70
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		inline_script = {
			script = planet/districts/pc_cpu/oxr_auto_fpga_produces
			CPU_DISTRICT_PRODUCES = physics_research
		}
		upkeep = {
			energy = @oxr_mdlc_cpu_district_upkeep
			exotic_gases = 1
		}
	}
	inline_script = planet/districts/pc_cpu/oxr_auto_fpga_desc

	ai_resource_production = {
		physics_research = 10
		trigger = { always = yes }
	}
	triggered_desc = {
		trigger = {
			has_active_building = oxr_mdlc_building_auto_organoid_research_center
		}
		text = oxr_mdlc_building_auto_research_organoid_active
	}
	on_built = {
		inline_script = planet/districts/on_action/on_t3_completed
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_built }
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}
oxr_mdlc_pc_frameworld_cpu_district_society = {
	icon = xvcv_mdlc_pc_machine_cpu_district_society
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_cpu_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_ecu_district_goods
		xvcv_mdlc_pc_machine_ser_district_admin_cap
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add
	

	resources = {
		category = xvcv_mdlc_world_machines_science_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = { exotic_gases = 100 }
		produces = {
			trigger = {
				NOT = {
					has_active_building = oxr_mdlc_world_machines_building_fractal_fpga
				}
			}
			society_research = @oxr_mdlc_cpu_district_base # was 70
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		inline_script = planet/districts/pc_cpu/oxr_auto_fpga_produces
		upkeep = {
			energy = @oxr_mdlc_cpu_district_upkeep
			exotic_gases = 1
		}
	}
	inline_script = planet/districts/pc_cpu/oxr_auto_fpga_desc

	ai_resource_production = {
		society_research = 10
		trigger = { always = yes }
	}
	triggered_desc = {
		trigger = {
			has_active_building = oxr_mdlc_building_auto_organoid_research_center
		}
		text = oxr_mdlc_building_auto_research_organoid_active
	}
	on_built = {
		inline_script = planet/districts/on_action/on_t3_completed
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_built }
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}
oxr_mdlc_pc_frameworld_cpu_district_engineering = {
	icon = xvcv_mdlc_pc_machine_cpu_district_engineering
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_cpu_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_ecu_district_rare_resources
		xvcv_mdlc_pc_machine_ser_district_crime
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add
	

	resources = {
		category = xvcv_mdlc_world_machines_science_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = { exotic_gases = 100 }
		produces = {
			trigger = {
				NOT = { has_active_building = oxr_mdlc_world_machines_building_fractal_fpga }
			}
			engineering_research = @oxr_mdlc_cpu_district_base # was 70
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		inline_script = planet/districts/pc_cpu/oxr_auto_fpga_produces
		upkeep = {
			energy = @oxr_mdlc_cpu_district_upkeep
			exotic_gases = 1
		}
	}
	inline_script = planet/districts/pc_cpu/oxr_auto_fpga_desc
	ai_resource_production = {
		engineering_research = 10
		trigger = { always = yes }
	}
	triggered_desc = {
		trigger = {
			has_active_building = oxr_mdlc_building_auto_organoid_research_center
		}
		text = oxr_mdlc_building_auto_research_organoid_active
	}
	on_built = {
		inline_script = planet/districts/on_action/on_t3_completed
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_built }
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}


#### MACHINE_ECU
oxr_mdlc_pc_frameworld_ecu_district_alloys = {
	icon = xvcv_mdlc_pc_machine_ecu_district_alloys
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes
	# can_demolish = no

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_ecu_districts = yes
	}
	# allow = {}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_cpu_district_physics
		xvcv_mdlc_pc_machine_ser_district_unity
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add
	

	resources = {
		category = xvcv_mdlc_world_machines_foundry_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = {
			volatile_motes = 100
		}
		produces = {
			alloys = 60
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			trigger = {
				exists = owner
			}
			rare_crystals = 1
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = { is_catalytic_empire = no }
			}
			minerals = 120  # was 60
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = { is_catalytic_empire = yes }
			}
			food = 144  # was 90
		}
	}

	ai_resource_production = {
		alloys = 10
		trigger = { always = yes }
	}
	on_built = {
		inline_script = planet/districts/on_action/on_t3_completed
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_built }
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}
oxr_mdlc_pc_frameworld_ecu_district_goods = {
	icon = xvcv_mdlc_pc_machine_ecu_district_goods
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_ecu_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_cpu_district_society
		xvcv_mdlc_pc_machine_ser_district_admin_cap
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add
	

	resources = {
		category = xvcv_mdlc_world_machines_factory_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = {
			rare_crystals = 100
		}
		produces = {
			consumer_goods = 120
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			minerals = 60
			energy = 10
			rare_crystals = 1
		}
	}

	ai_resource_production = {
		consumer_goods = 10
		trigger = { always = yes }
	}
	on_built = {
		inline_script = planet/districts/on_action/on_t3_completed
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_built }
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}
oxr_mdlc_pc_frameworld_ecu_district_rare_resources = {
	icon = xvcv_mdlc_pc_machine_ecu_district_rare_resources
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_ecu_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_cpu_district_engineering
		xvcv_mdlc_pc_machine_ser_district_crime
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	inline_script = planet/districts/auto/frameworld/oxr_fram_max_district_add


	resources = {
		category = xvcv_mdlc_world_machines_strategic_resource_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		produces = {
			volatile_motes = 8
			exotic_gases = 8
			rare_crystals = 8
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			minerals = 80
			energy = 10
		}
	}

	ai_resource_production = {
		volatile_motes = 2
		trigger = { always = yes }
	}
	ai_resource_production = {
		exotic_gases = 2
		trigger = { always = yes }
	}
	ai_resource_production = {
		rare_crystals = 2
		trigger = { always = yes }
	}
	on_built = {
		inline_script = planet/districts/on_action/on_t3_completed
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_built }
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}
oxr_mdlc_pc_frameworld_ecu_district_naval_cap = {
	icon = xvcv_mdlc_pc_machine_ecu_district_naval_cap
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_ecu_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_cpu_district_decryption
		xvcv_mdlc_pc_machine_ser_district_encryption
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	#see 'xvcv_mdlc_d_pc_machine_ecu_naval_cap' deposit for the actual effect
	triggered_desc = {
		text = xvcv_mdlc_pc_machine_ecu_district_naval_cap_effect_desc
	}

	resources = {
		category = xvcv_mdlc_world_machines_military_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = { volatile_motes = 100 }
		upkeep = {
			energy = 15
			volatile_motes = 1
		}
	}
	on_built = {
		inline_script = planet/districts/on_action/on_t3_completed
		fire_on_action = { on_action = xvcv_on_world_machine_t3_resource_district_built }
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_resource_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}

#### MACHINE SER
oxr_mdlc_pc_frameworld_ser_district_unity = {
	icon = xvcv_mdlc_pc_machine_ser_district_unity
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_ser_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_ecu_district_alloys
		xvcv_mdlc_pc_machine_cpu_district_physics
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	resources = {
		category = xvcv_mdlc_world_machines_unity_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = { rare_crystals = 100 }
		produces = { 
			unity = 50
			mult =  value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_base_production|
		}
		upkeep = {
			energy = 10
			rare_crystals = 1
		}
	}

	ai_resource_production = {
		unity = 10
		trigger = { always = yes }
	}
	on_built = {
		inline_script = planet/districts/on_action/on_t3_completed
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_built }
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
	
}
oxr_mdlc_pc_frameworld_ser_district_crime = {
	icon = xvcv_mdlc_pc_machine_ser_district_crime
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_ser_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_ecu_district_rare_resources
		xvcv_mdlc_pc_machine_cpu_district_engineering
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	#see 'xvcv_mdlc_d_pc_machine_ser_crime' deposit for the actual effect
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { has_authority = auth_machine_intelligence }
		}
		text = xvcv_mdlc_pc_machine_ser_district_crime_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = xvcv_mdlc_pc_machine_ser_district_crime_effect_desc_alt
	}

	resources = {
		category = xvcv_mdlc_world_machines_computer_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = { volatile_motes = 100 }
		upkeep = {
			energy = 10
			volatile_motes = 1
		}
	}
	on_built = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_resource_district_built }
		inline_script = planet/districts/on_action/on_t3_completed
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_resource_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}
oxr_mdlc_pc_frameworld_ser_district_encryption = {
	icon = xvcv_mdlc_pc_machine_ser_district_encryption
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_ser_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_ecu_district_naval_cap
		xvcv_mdlc_pc_machine_cpu_district_decryption
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	#see 'xvcv_mdlc_d_pc_machine_ser_encryption' deposit for the actual effect
	triggered_desc = {
		text = xvcv_mdlc_pc_machine_ser_district_encryption_effect_desc
	}

	resources = {
		category = xvcv_mdlc_world_machines_cybersecurity_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = { rare_crystals = 100 }
		upkeep = {
			energy = 15
			rare_crystals = 1
		}
	}
	on_built = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_resource_district_built }
		inline_script = planet/districts/on_action/on_t3_completed
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_resource_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}
oxr_mdlc_pc_frameworld_ser_district_decryption = {
	icon = xvcv_mdlc_pc_machine_cpu_district_decryption
	base_buildtime = @xvcv_mdlc_district_time_4
	is_capped_by_modifier = yes

	show_on_uncolonized = { always = no }
	potential = {
		inline_script = planet/districts/auto/frameworld/oxr_frame_potential
		oxr_mdlc_frameworld_can_have_ser_districts = yes
	}

	conversion_ratio = 1
	convert_to = {
		xvcv_mdlc_common_district_mining
		district_mining_uncapped
		xvcv_mdlc_pc_machine_ecu_district_naval_cap
		xvcv_mdlc_pc_machine_ser_district_encryption
	}

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	#see 'xvcv_mdlc_d_pc_machine_cpu_decryption' deposit for the actual effect
	triggered_desc = {
		text = xvcv_mdlc_pc_machine_cpu_district_decryption_effect_desc
	}

	resources = {
		category = xvcv_mdlc_world_machines_cybersecurity_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
		}
		cost = { rare_crystals = 100 }
		upkeep = {
			energy = 15
			rare_crystals = 1
		}
	}
	triggered_desc = {
		trigger = {
			has_active_building = oxr_mdlc_building_auto_organoid_research_center
		}
		text = oxr_mdlc_building_auto_research_organoid_active
	}
	on_built = {
		inline_script = planet/districts/on_action/on_t3_completed
		fire_on_action = { on_action = xvcv_on_world_machine_t3_resource_district_built }
	}
	on_destroy = {
		fire_on_action = { on_action = xvcv_on_world_machine_t3_resource_district_demolished }
		fire_on_action = { on_action = on_world_machine_district_demolished }
	}
}


#### MACHINE SPECIAL



# EOF
