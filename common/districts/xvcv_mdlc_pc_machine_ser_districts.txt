# Auto-Server districts
xvcv_mdlc_pc_machine_ser_district_cooling_primary = {
	inline_script = {
		script = planet/districts/auto/oxr_wm_cooling_base
		DISTRICT_SET = xvcv_mdlc_pc_machine_ser_district_set
	}
}

xvcv_mdlc_pc_machine_ser_district_unity = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_uncapped = {}

	show_on_uncolonized = {
		exists = from
		from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ser_district_set
	}
	potential = {
		exists = owner
		owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ser_district_set
	}

	zone_slots = {
		oxr_mdlc_slot_pc_machine_ser_unity
	}

	conversion_ratio = 1
	inline_script = planet/districts/convert_to/oxr_wm_district_2

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	resources = {
		category = xvcv_mdlc_world_machines_unity_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
			rare_crystals = 100
		}
		produces = { 
			unity = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_coordinator_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
		}
		upkeep = {
			energy = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_coordinator_upkeep ]
			rare_crystals = @oxr_t2_ring_district_sr_upkeep
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
		}
	}

	ai_resource_production = {
		unity = 10
		trigger = { always = yes }
	}
	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}

}

xvcv_mdlc_pc_machine_ser_district_logistics = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_uncapped = {}

	show_on_uncolonized = {
		exists = from
		from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ser_district_set
	}
	potential = {
		exists = owner
		owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ser_district_set
	}

	conversion_ratio = 1
	inline_script = planet/districts/convert_to/oxr_wm_district_3

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	zone_slots = {
		oxr_mdlc_origin_wm_slot_any
	}

	resources = {
		category = xvcv_mdlc_world_machines_trade_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
			exotic_gases = 100
		}
		produces = {
			trade = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_logistics_drone_output ]
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
		}
		upkeep = {
			energy = @[ oxr_t3_planet_district_jobs * oxr_mdlc_wm_base_logistics_drone_upkeep ]
			rare_crystals = @oxr_t2_ring_district_sr_upkeep
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
		}
	}

	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
		planet = {
			set_or_increment_variable = {
				VAR = xvcv_mdlc_pc_machine_ser_district_logistics_num
				AMOUNT = 1
			}
		}
	}
	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
		planet = {
			change_variable = {
				which = xvcv_mdlc_pc_machine_ser_district_logistics_num
				value = -1
			}
		}
	}
}

xvcv_mdlc_pc_machine_ser_district_crime = {
	base_buildtime = @xvcv_mdlc_district_time_4
	is_uncapped = {}

	show_on_uncolonized = {
		exists = from
		from = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ser_district_set
	}
	potential = {
		exists = owner
		owner = { oxr_mdlc_planet_owner_can_build_wm_districts = yes }
		uses_district_set = xvcv_mdlc_pc_machine_ser_district_set
	}

	conversion_ratio = 1
	inline_script = planet/districts/convert_to/oxr_wm_district_4

	planet_modifier = {
		xvcv_mdlc_world_machines_districts_produces_mult = -0.1
		xvcv_mdlc_world_machines_districts_upkeep_mult = 0.1
	}

	zone_slots = {
		oxr_mdlc_slot_pc_machine_ser_anticrime
	}

	#see 'xvcv_mdlc_d_pc_machine_ser_crime' deposit for the actual effect
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { has_authority = auth_machine_intelligence }
		}
		text = xvcv_mdlc_pc_machine_ser_district_crime_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { has_auth_machine_intelligence = no }
		}
		text = xvcv_mdlc_pc_machine_ser_district_crime_effect_desc_alt
	}

	resources = {
		category = xvcv_mdlc_world_machines_computer_districts
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
			volatile_motes = 100
		}
		upkeep = {
			energy = 10
			volatile_motes = @oxr_t2_ring_district_sr_upkeep
			mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
		}
	}

	on_built = {
		inline_script = planet/districts/on_action/on_wm_district_built
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}

	on_destroy = {
		inline_script = planet/districts/on_action/on_wm_district_destroy
		inline_script = planet/districts/on_action/on_wm_t3_district_change
	}
}
