#### MANUFACTURING ###

# Forge booster
rikk_mdlc_world_machine_SR_building = {
	base_buildtime = @b1_time
	base_cap_amount = 1
	category = manufacturing
	icon = oxr_mdlc_world_machines_building_auto_sr_boost
	can_build = yes

	potential = {
		exists = owner
		owner = {
			OR = {
				has_origin = oxr_mdlc_origin_world_machine_awakened
				has_ascension_perk = xvcv_mdlc_ap_world_machines
			}
		}
		is_xvcv_mdlc_pc_machine_auto = yes
	}
	show_tech_unlock_if = {
		OR = {
			has_origin = oxr_mdlc_origin_world_machine_awakened
			has_ascension_perk = xvcv_mdlc_ap_world_machines
		}
	}
	on_built = {
		owner = {
			fire_on_action = { on_action = on_world_machine_popless_building_constructed }
		}
	}
	inline_script = planet/buildings/auto/oxr_destroy

	resources = {
		category = oxr_mdlc_world_machines_strategic_resource_buildings
		cost = {
			minerals = @b1_minerals
		}
		upkeep = {
			energy = @b1_upkeep
		}
	}
	
	triggered_planet_modifier = {
		xvcv_mdlc_world_machines_generator_districts_volatile_motes_produces_add = 0.2
		xvcv_mdlc_world_machines_mining_districts_rare_crystals_produces_add = 0.2
		xvcv_mdlc_world_machines_food_districts_exotic_gases_produces_add = 0.2
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
	}
	triggered_planet_modifier = {
		potential = { oxr_planet_owner_is_catalytic = no }
		xvcv_mdlc_world_machines_generator_districts_minerals_upkeep_add = 2
		xvcv_mdlc_world_machines_mining_districts_energy_upkeep_add = 2
		xvcv_mdlc_world_machines_food_districts_energy_upkeep_add = 2
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
	}
	triggered_planet_modifier = {
		potential = { oxr_planet_owner_is_catalytic = yes }
		xvcv_mdlc_world_machines_generator_districts_food_upkeep_add = 2
		xvcv_mdlc_world_machines_mining_districts_food_upkeep_add = 2
		xvcv_mdlc_world_machines_food_districts_food_upkeep_add = 2
		mult = value:scripted_modifier_mult|MODIFIER|rikk_mdlc_world_machine_districts_efficiency|
	}
	
	triggered_desc = { text = rikk_mdlc_world_machine_SR_building_effect } 
	
	prerequisites = {
		tech_volatile_motes
		tech_exotic_gases
		tech_rare_crystals
	}

	building_sets = {
		oxr_mdlc_building_set_wm_all
		oxr_mdlc_building_set_wm_strategic
	}
}
