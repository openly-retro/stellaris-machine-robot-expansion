#for 'xvcv_mdlc_civic_goods_distributor' civic
xvcv_mdlc_building_automated_goods_fabricator = {
	base_buildtime = @b1_time
	category = manufacturing

	potential = {
		exists = owner
		owner = { has_valid_civic = xvcv_mdlc_civic_goods_distributor }
	}

	allow = {
		OR = {
			has_upgraded_capital = yes
			oxr_mdlc_has_upgraded_capital = yes
		}
	}

	destroy_trigger = {
		# exists = owner
		# owner = { NOT = { has_valid_civic = xvcv_mdlc_civic_goods_distributor } }
	}

	resources = {
		category = planet_artisans
		cost = { minerals = @b1_minerals }
		upkeep = { energy = @b1_upkeep }
		produces = { consumer_goods = 16 }
		upkeep = { minerals = 16 }
		produces = {
			trigger = { owner = { has_technology = xvcv_mdlc_tech_automated_goods_manufacturing_1 } }
			consumer_goods = 24 #change 'xvcv_mdlc_tech_automated_goods_manufacturing_1_tooltip' when this value is changed
		}
		upkeep = {
			trigger = {
				owner = {
					is_ai = no
					has_technology = xvcv_mdlc_tech_automated_goods_manufacturing_1
				}
			}
			minerals = 24
		}
		produces = {
			trigger = { owner = { has_technology = xvcv_mdlc_tech_automated_goods_manufacturing_2 } }
			consumer_goods = 24 #change 'xvcv_mdlc_tech_automated_goods_manufacturing_2_tooltip' when this value is changed
		}
		upkeep = {
			trigger = {
				owner = {
					is_ai = no
					has_technology = xvcv_mdlc_tech_automated_goods_manufacturing_2
				}
			}
			minerals = 24
		}
	}

	ai_resource_production = {
		consumer_goods = 16
		trigger = { always = yes }
	}

	building_sets = {
		industrial
		factory
		oxr_mdlc_building_set_wm_all
		oxr_mdlc_building_set_wm_production
		oxr_mdlc_building_set_wm_alloys
	}
}
#for 'xvcv_mdlc_civic_maintenance_depot' civic
xvcv_mdlc_building_maintenance_depot = {
	base_buildtime = @b2_time

	category = amenity

	potential = {
		exists = owner
		owner = { has_valid_civic = xvcv_mdlc_civic_maintenance_depot }
	}

	allow = {
		has_upgraded_capital = yes
	}

	destroy_trigger = {
		exists = owner
		owner = { NOT = { has_valid_civic = xvcv_mdlc_civic_maintenance_depot } }
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			rare_crystals = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			rare_crystals = @b2_rare_upkeep
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_origin = oxr_mdlc_origin_world_machine_awakened
			}
		}
		job_oxr_mdlc_world_machine_hibernation_slot_add = 4
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_oxr_mdlc_origin_world_machine_awakened = no
			}
		}
		job_maintenance_drone_add = @b2_jobs
	}
	building_sets = {
		government
		urban
	}

}
xvcv_mdlc_building_maintenance_spire = {
	base_buildtime = @b3_time
	base_cap_amount = 1
	category = amenity

	potential = {
		exists = owner
		owner = { has_valid_civic = xvcv_mdlc_civic_maintenance_depot }
	}

	allow = {
		has_upgraded_capital = yes
	}

	destroy_trigger = {
		exists = owner
		owner = { NOT = { has_valid_civic = xvcv_mdlc_civic_maintenance_depot } }
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			rare_crystals = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			rare_crystals = @b3_rare_upkeep
		}
	}

	triggered_planet_modifier = {
		planet_housing_add = 1
		mult = value:xvcv_mdlc_count_maintenance_drone
	}

	triggered_desc = {
		text = xvcv_mdlc_building_maintenance_spire_effect_desc
	}
	building_sets = {
		government
		urban
	}
}
#for 'xvcv_mdlc_civic_uplink_node' civic
xvcv_mdlc_building_uplink_node_facility = {
	base_buildtime = @b3_time
	base_cap_amount = 1

	category = government

	potential = {
		exists = owner
		owner = { has_valid_civic = xvcv_mdlc_civic_uplink_node }
	}

	allow = {
		has_upgraded_capital = yes
	}

	destroy_trigger = {
		exists = owner
		owner = { NOT = { has_valid_civic = xvcv_mdlc_civic_uplink_node } }
	}

	convert_to = {
		building_noble_estates
	}

	planet_modifier = {
		job_xvcv_mdlc_uplink_node_coordinator_add = 200
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b3_minerals }
		upkeep = { energy = @b3_upkeep }
	}

	triggered_desc = {
		text = job_xvcv_mdlc_uplink_node_coordinator_effect_desc
	}

	ai_resource_production = {
		energy = 10
		trigger = { always = yes }
	}
	building_sets = {
		unity
	}
}
#for 'xvcv_mdlc_ap_bio_robot' ascension perk
xvcv_mdlc_building_bio_robot_clone_plants = {
	base_buildtime = @b2_time
	# base_cap_amount = 1
	can_build = yes

	potential = {
		exists = owner
		owner = {
			is_ai = no
			has_ascension_perk = xvcv_mdlc_ap_bio_robot
		}
	}

	allow = {
		custom_tooltip_fail = {
			text = xvcv_mdlc_building_bio_robot_clone_plants_tooltip.fail
			exists = owner
			owner = { NOT = { has_special_project = XVCV_MDLC_AP_BIO_ROBOT_PROJECT } }
		}
		custom_tooltip_fail = {
			text = oxr_mdlc_bio_mech_cloning_vat_planet_limit_reached.not_bio_pc
			OR = {
				# is_oxr_mdlc_pc_bio_mech = yes
				AND = {
					# is_oxr_mdlc_pc_bio_mech = no
					NOR = {
						has_active_building = xvcv_mdlc_building_bio_robot_clone_plants
						has_active_building = xvcv_mdlc_building_bio_robot_clone_plants_2
						has_active_building = xvcv_mdlc_building_bio_robot_clone_plants_3
					}
				}
			}
		}
		

		# if = {
		# 	limit = {
		# 		is_oxr_mdlc_pc_bio_mech = yes
		# 	}
		# 	always = yes
		# }
		# else_if = {
		# 	limit = {
		# 		is_oxr_mdlc_pc_bio_mech = no
		# 		NOR = {
		# 			has_active_building = xvcv_mdlc_building_bio_robot_clone_plants
		# 			has_active_building = xvcv_mdlc_building_bio_robot_clone_plants_2
		# 			has_active_building = xvcv_mdlc_building_bio_robot_clone_plants_3
		# 		}
		# 	}
		# 	always = yes
		# }
		# else = {
		# 	custom_tooltip = oxr_mdlc_bio_mech_cloning_vat_planet_limit_reached.not_bio_pc
		# 	always = no
		# }
	}

	inline_script = {
		script = planet/buildings/oxr_mdlc_bio_robot_plant
		NUM_JOBS = 400
		MINERALS_COST = @b2_minerals
		RARE_COST = @b2_rare_cost
		ENERGY_UPKEEP = @b2_upkeep
		RARE_UPKEEP = @b2_rare_upkeep
	}

	upgrades = {
		"xvcv_mdlc_building_bio_robot_clone_plants_2"
	}
}

xvcv_mdlc_building_bio_robot_clone_plants_2 = {
	base_buildtime = @b3_time
	can_build = no

	potential = {
		exists = owner
		owner = {
			is_ai = no
			has_ascension_perk = xvcv_mdlc_ap_bio_robot
		}
		has_major_upgraded_capital = yes
	}

	inline_script = {
		script = planet/buildings/oxr_mdlc_bio_robot_plant
		NUM_JOBS = 600
		MINERALS_COST = @b3_minerals
		RARE_COST = @b3_rare_cost
		ENERGY_UPKEEP = @b3_upkeep
		RARE_UPKEEP = @b3_rare_upkeep
	}
}
xvcv_mdlc_building_bio_robot_clone_plants_3 = {
	base_buildtime = @b4_time
	can_build = no

	potential = {
		exists = owner
		owner = {
			is_ai = no
			has_ascension_perk = xvcv_mdlc_ap_bio_robot
		}
		has_fully_upgraded_capital = yes
	}

	inline_script = {
		script = planet/buildings/oxr_mdlc_bio_robot_plant
		NUM_JOBS = 800
		MINERALS_COST = @b4_minerals
		RARE_COST = @b4_rare_cost
		ENERGY_UPKEEP = @b4_upkeep
		RARE_UPKEEP = @b4_rare_upkeep
	}
}


#for 'xvcv_mdlc_ap_organic_work' ascension perk
xvcv_mdlc_building_organic_foundry = {
	base_buildtime = @b1_time
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_foundry

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = { #wait until the 1st day of next month in game time to see it's removed
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_foundry_2
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_organic_foundry_2"
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_foundry_add = @xvcv_mdlc_ap_organic_work_tier_1_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_foundry_effect_desc
	}

	ai_resource_production = {
		alloys = 10
		trigger = { always = yes }
	}
	building_sets = {
		urban
		unity
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_foundry_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_foundry_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_foundry_3
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			volatile_motes = @b4_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			volatile_motes = @b4_rare_upkeep
		}
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_foundry_add = @xvcv_mdlc_ap_organic_work_tier_2_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_foundry_effect_desc
	}

	ai_resource_production = {
		alloys = 20
		trigger = { always = yes }
	}
	building_sets = {
		urban
		unity
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_factory = {
	base_buildtime = @b1_time
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_factory

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_factory_2
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_organic_factory_2"
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_artisan_add = @xvcv_mdlc_ap_organic_work_tier_1_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_artisan_effect_desc
	}

	ai_resource_production = {
		consumer_goods = 10
		trigger = { always = yes }
	}
	building_sets = {
		urban
		unity
		factory
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_factory_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_factory_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_factory_3
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			rare_crystals = @b4_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			rare_crystals = @b4_rare_upkeep
		}
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_artisan_add = @xvcv_mdlc_ap_organic_work_tier_2_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_artisan_effect_desc
	}

	ai_resource_production = {
		consumer_goods = 20
		trigger = { always = yes }
	}
	building_sets = {
		urban
		unity
		factory
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_research = {
	base_buildtime = @b1_time
	category = research
	icon = voluntary_work/xvcv_mdlc_building_organic_research

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	allow = {
		has_upgraded_capital = yes
	}

	convert_to = {
		building_research_lab_2
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_organic_research_2"
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_researcher_add = @xvcv_mdlc_ap_organic_work_tier_1_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_researcher_effect_desc
	}

	ai_resource_production = {
		physics_research = 10
		trigger = { always = yes }
	}
	ai_resource_production = {
		society_research = 10
		trigger = { always = yes }
	}
	ai_resource_production = {
		engineering_research = 10
		trigger = { always = yes }
	}
	building_sets = {
		urban
		unity
		research
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_research_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = research
	icon = voluntary_work/xvcv_mdlc_building_organic_research_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	allow = {
		has_upgraded_capital = yes
	}

	convert_to = {
		building_research_lab_3
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			exotic_gases = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			exotic_gases = @b3_rare_upkeep
		}
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_researcher_add = @xvcv_mdlc_ap_organic_work_tier_2_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_researcher_effect_desc
	}

	ai_resource_production = {
		physics_research = 20
		trigger = { always = yes }
	}
	ai_resource_production = {
		society_research = 20
		trigger = { always = yes }
	}
	ai_resource_production = {
		engineering_research = 20
		trigger = { always = yes }
	}
	building_sets = {
		urban
		unity
		research
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_bureaucratic = {
	base_buildtime = @b1_time
	category = government
	icon = voluntary_work/xvcv_mdlc_building_organic_bureaucratic

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_bureaucratic_2
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_organic_bureaucratic_2"
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_bureaucrat_add = @xvcv_mdlc_ap_organic_work_tier_1_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_bureaucrat_effect_desc
	}
	building_sets = {
		urban
		unity
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_bureaucratic_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = government
	icon = voluntary_work/xvcv_mdlc_building_organic_bureaucratic_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_bureaucratic_3
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			rare_crystals = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			rare_crystals = @b3_rare_upkeep
		}
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_bureaucrat_add = @xvcv_mdlc_ap_organic_work_tier_2_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_bureaucrat_effect_desc
	}
	building_sets = {
		urban
		unity
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_clinic = {
	base_buildtime = @b1_time
	base_cap_amount = 1
	category = amenity
	icon = voluntary_work/xvcv_mdlc_building_organic_clinic

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_medical_1
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_organic_clinic_2"
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_healthcare_add = @xvcv_mdlc_ap_organic_work_tier_1_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_healthcare_effect_desc
	}

	ai_resource_production = {
		society_research = 10
		trigger = { always = yes }
	}
	building_sets = {
		government
		urban
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_clinic_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = amenity
	icon = voluntary_work/xvcv_mdlc_building_organic_clinic_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			rare_crystals = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			rare_crystals = @b3_rare_upkeep
		}
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_healthcare_add = @xvcv_mdlc_ap_organic_work_tier_2_buildings_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_healthcare_effect_desc
	}

	ai_resource_production = {
		society_research = 20
		trigger = { always = yes }
	}
	building_sets = {
		industrial
		factory
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_chemical_plant = {
	base_buildtime = @b1_time
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_chemical_plant

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_chemical_plant
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_chemist_add = @b1_jobs
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_organic_chemical_plant_2"
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_chemist_effect_desc
	}

	ai_resource_production = {
		volatile_motes = 5
		trigger = { always = yes }
	}
	building_sets = {
		industrial
		factory
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_chemical_plant_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_chemical_plant_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_chemical_plant
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b3_minerals }
		upkeep = { energy = @b3_upkeep }
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_chemist_add = @b2_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_chemist_effect_desc
	}

	ai_resource_production = {
		volatile_motes = 10
		trigger = { always = yes }
	}
	building_sets = {
		industrial
		factory
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_refinery = {
	base_buildtime = @b1_time
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_refinery

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_refinery
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_gas_refiner_add = @b1_jobs
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_organic_refinery_2"
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_gas_refiner_effect_desc
	}

	ai_resource_production = {
		exotic_gases = 5
		trigger = { always = yes }
	}
	building_sets = {
		industrial
		factory
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_refinery_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_refinery_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_refinery
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b3_minerals }
		upkeep = { energy = @b3_upkeep }
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_gas_refiner_add = @b2_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_gas_refiner_effect_desc
	}

	ai_resource_production = {
		exotic_gases = 10
		trigger = { always = yes }
	}
	building_sets = {
		industrial
		factory
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_crystal_plant = {
	base_buildtime = @b1_time
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_crystal_plant

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_crystal_plant
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_translucer_add = @b1_jobs
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_organic_crystal_plant_2"
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_translucer_effect_desc
	}

	ai_resource_production = {
		rare_crystals = 5
		trigger = { always = yes }
	}
	building_sets = {
		industrial
		factory
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_crystal_plant_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_crystal_plant_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_crystal_plant
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b3_minerals }
		upkeep = { energy = @b3_upkeep }
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_translucer_add = @b2_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_translucer_effect_desc
	}

	ai_resource_production = {
		rare_crystals = 10
		trigger = { always = yes }
	}
	building_sets = {
		industrial
		factory
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_machine_assembly_plant = {
	base_buildtime = @b1_time
	base_cap_amount = 1
	category = pop_assembly
	icon = voluntary_work/xvcv_mdlc_building_organic_machine_assembly_plant

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_robot_assembly_plant
		building_machine_assembly_plant
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_roboticist_add = 1
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_organic_machine_assembly_plant_2"
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_roboticist_effect_desc
	}

	ai_resource_production = {
		volatile_motes = 5
		trigger = { always = yes }
	}
	building_sets = {
		government
		urban
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_machine_assembly_plant_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = pop_assembly
	icon = voluntary_work/xvcv_mdlc_building_organic_machine_assembly_plant_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_robot_assembly_plant
		building_machine_assembly_complex
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			rare_crystals = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			rare_crystals = @b3_rare_upkeep
		}
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_roboticist_add = 2
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_roboticist_effect_desc
	}

	ai_resource_production = {
		volatile_motes = 10
		trigger = { always = yes }
	}
	building_sets = {
		government
		urban
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_production_center = {
	base_buildtime = @b2_time
	base_cap_amount = 1
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_production_center

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_ministry_production
		building_production_center
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_administrator_add = 1
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			volatile_motes = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			volatile_motes = @b2_rare_upkeep
		}
	}

	upgrades = {
		"xvcv_mdlc_building_organic_production_center_2"
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_administrator_effect_desc
	}

	ai_resource_production = {
		alloys = 6
		trigger = { always = yes }
	}
	ai_resource_production = {
		consumer_goods = 8
		trigger = { always = yes }
	}
	building_sets = {
		government
		urban
		factory
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_organic_production_center_2 = {
	base_buildtime = @b3_time
	can_build = no
	category = manufacturing
	icon = voluntary_work/xvcv_mdlc_building_organic_production_center_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_ministry_production
		building_production_center
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b3_minerals
			volatile_motes = @b3_rare_cost
		}
		upkeep = {
			energy = @b3_upkeep
			volatile_motes = @b3_rare_upkeep
		}
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_administrator_add = 2
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_administrator_effect_desc
	}

	ai_resource_production = {
		alloys = 12
		trigger = { always = yes }
	}
	ai_resource_production = {
		consumer_goods = 16
		trigger = { always = yes }
	}
	building_sets = {
		government
		urban
		factory
		foundry
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_precinct_house = {
	base_buildtime = @b1_time
	category = government
	icon = voluntary_work/xvcv_mdlc_building_precinct_house

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_heritage_site
		building_holotemple
		building_simulation_2
		building_hive_cluster
		building_corporate_site
		building_galactic_memorial_2
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_enforcer_add = @b1_jobs
	}

	resources = {
		category = planet_buildings
		cost = { minerals = @b2_minerals }
		upkeep = { energy = @b2_upkeep }
	}

	upgrades = {
		"xvcv_mdlc_building_precinct_house_2"
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_enforcer_effect_desc
	}
	building_sets = {
		government
		urban
		oxr_mdlc_servitor
	}
}
xvcv_mdlc_building_precinct_house_2 = {
	base_buildtime = @b2_time
	can_build = no
	category = government
	icon = voluntary_work/xvcv_mdlc_building_precinct_house_2

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}

	convert_to = {
		building_hypercomms_forum
		building_sacred_nexus
		building_hive_confluence
		building_simulation_3
		building_corporate_forum
		building_galactic_memorial_3
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			volatile_motes = @b2_rare_cost
		}
		upkeep = {
			energy = @b1_upkeep
			volatile_motes = @b2_rare_upkeep
		}
	}

	prerequisites = { "tech_paradise_dome" }

	show_tech_unlock_if = {
		owner = { has_ascension_perk = xvcv_mdlc_ap_organic_work }
	}

	planet_modifier = {
		job_xvcv_mdlc_organic_enforcer_add = @b2_jobs
	}

	triggered_desc = {
		text = job_xvcv_mdlc_organic_enforcer_effect_desc
	}
	building_sets = {
		government
		urban
		oxr_mdlc_servitor
	}
}
oxr_mdlc_building_organic_gardens_1 = {
	# Added by Retro
	base_buildtime = @b1_time
	category = resource
	icon = voluntary_work/oxr_mdlc_building_organic_gardens_1
	can_build = yes

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}
	planet_modifier = {
		job_oxr_mdlc_organic_gardener_add = 3
	}
	convert_to = {
		building_hydroponics_farm
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b1_minerals
		}
		upkeep = {
			energy = 2
		}
	}
	prerequisites = {
		"tech_hydroponics"
	}
	show_tech_unlock_if = {
		has_ascension_perk = xvcv_mdlc_ap_organic_work
	}
	upgrades = {
		oxr_mdlc_building_organic_gardens_2
	}
	building_sets = {
		government
		urban
		farming
		oxr_mdlc_servitor
	}
}

oxr_mdlc_building_organic_gardens_2 = {
	# Added by Retro
	base_buildtime = @b2_time
	category = resource
	icon = voluntary_work/oxr_mdlc_building_organic_gardens_2
	can_build = no

	potential = {
		exists = owner
		owner = {
			has_authority = auth_machine_intelligence
			has_ascension_perk = xvcv_mdlc_ap_organic_work
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			NAND = {
				has_authority = auth_machine_intelligence
				has_ascension_perk = xvcv_mdlc_ap_organic_work
			}
		}
	}
	planet_modifier = {
		job_oxr_mdlc_organic_gardener_add = 5
	}

	convert_to = {
		building_hydroponics_farm
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b1_minerals
		}
		upkeep = {
			energy = 2
		}
	}
	prerequisites = {
		"tech_hydroponics"
	}
	show_tech_unlock_if = {
		has_ascension_perk = xvcv_mdlc_ap_organic_work
	}
	building_sets = {
		government
		urban
		farming
		oxr_mdlc_servitor
	}
}
#other

xvcv_mdlc_building_sentinel_complex = {
	base_buildtime = @b2_time
	category = government

	potential = {
		exists = owner
		owner = { has_authority = auth_machine_intelligence }
	}

	allow = {
		has_upgraded_capital = yes
	}

	destroy_trigger = {
		exists = owner
		owner = { has_auth_machine_intelligence = no }
	}

	convert_to = {
		building_hall_judgment
	}

	planet_modifier = {
		job_patrol_drone_add = @b2_jobs
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			exotic_gases = @b2_rare_cost
		}
		upkeep = {
			energy = @b2_upkeep
			exotic_gases = @b2_rare_upkeep
		}
	}

	prerequisites = {
		"tech_colonial_centralization"
	}

	triggered_desc = {
		text = job_patrol_drone_effect_desc
	}

	show_tech_unlock_if = {
		has_authority = auth_machine_intelligence
	}
	building_sets = {
		government
		urban
	}
}
xvcv_mdlc_building_district_slot = {
	base_buildtime = @b2_time
	category = government

	potential = {
		OR = {
			xvcv_mdlc_world_machines_planet_classes_trigger = yes
			is_planet_class = xvcv_mdlc_pc_virtual
		}
	}

	planet_modifier = {
		planet_max_districts_add = 1
	}

	on_destroy = {
		if = {
			limit = { free_district_slots < 1 }
			remove_random_district = yes
		}
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
			volatile_motes = @b2_rare_cost
			exotic_gases = @b2_rare_cost
			rare_crystals = @b2_rare_cost
		}
		upkeep = {
			energy = @b1_upkeep
			volatile_motes = @b2_rare_upkeep
			exotic_gases = @b2_rare_upkeep
			rare_crystals = @b2_rare_upkeep
		}
	}
	building_sets = {
		government
		urban
		oxr_mdlc_virtual
		oxr_mdlc_building_set_wm_all
	}
}

# Virtual reality server
xvcv_mdlc_building_matter_data_converter = {
	base_buildtime = @xvcv_mdlc_district_time_4
	planet_limit = 1
	category = research

	potential = {
		exists = owner
		owner = { has_ascension_perk = xvcv_mdlc_ap_virtual_worlds }
		uses_district_set = xvcv_mdlc_pc_virtual_district_set
	}

	planet_modifier = {
		pop_housing_usage_add = -1
		pop_amenities_usage_add = -1
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @xvcv_mdlc_district_cost_5
			volatile_motes = 100
			rare_crystals = 100
			exotic_gases = 100
		}
		upkeep = {
			energy = 10
			volatile_motes = 2
			rare_crystals = 2
			exotic_gases = 2
		}
	}
	building_sets = {
		oxr_mdlc_building_set_virtual
		oxr_mdlc_building_set_virtual_government
	}
}
