close_xvcv_mdlc_core_modifying_button_effect = {
    potential = { always = yes }
    allow = { always = yes }
    effect = {
        custom_tooltip = CLOSE_TITLE
        #Stellaris\common\button_effects\example.txt # From = player country
        hidden_effect = { from = { remove_country_flag = xvcv_mdlc_core_modifying_in_progress } }
    }
}
#I did some tests with 'From' scope... and I think I just gotta use this method instead of adding the scope all over the place
xvcv_mdlc_core_modifying_stopped_working_effect = {
    potential = { NOT = { is_scope_type = country } }
    allow = { always = yes }
}
# xvcv_mdlc_core_modifying_reset_traits_button_effect moved to autogenerated file

###########################
# SUBCLASS BUTTON EFFECTS #
###########################

xvcv_mdlc_core_modifying_remove_subclass_button_effect = {
    # Takes $CLASS$ and $SUBCLASS$ vars
    potential = { ruler = { has_trait = $SUBCLASS$ } }
    allow = { always = yes }
    effect = {
        custom_tooltip = xvcv_mdlc_core_modifying_tooltip_remove_$CLASS$_$SUBCLASS$
		hidden_effect = {
            ruler = {
                remove_trait = $SUBCLASS$
                xvcv_mdlc_core_modifying_ruler_refund_trait_points_picks_common = yes
            }
		}
        log = "Removed $SUBCLASS$ from ruler "
    }
}

### COMMANDER ###

#subclass_commander_councilor
xvcv_mdlc_core_modifying_traits_commander_subclass_commander_councilor_add_button_effect = {
    potential = { ruler = { NOT = { has_trait = subclass_commander_councilor } } }
    allow = {
        custom_tooltip = xvcv_mdlc_core_modifying_tooltip_add_commander_subclass_commander_councilor
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_admiral }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_general }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_diplomacy_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_economy_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_delegate }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_explorer }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_scholar }
        xvcv_mdlc_core_modifying_check_trait_resources_cost_common = yes
        xvcv_mdlc_core_modifying_ruler_check_trait_points_cost_common = yes
        xvcv_mdlc_core_modifying_ruler_check_trait_picks = yes
        has_paragon_dlc = yes
    }
    effect = {
        xvcv_mdlc_core_modifying_set_subclass_effect = { CLASS = commander ID = subclass_commander_councilor }
		hidden_effect = {
            ruler = {
                xvcv_mdlc_core_modifying_ruler_deduct_trait_points_common = yes
            }
            root.owner = {
                xvcv_mdlc_core_modifying_country_deduct_trait_costs_common = yes
            }
        }
    }
}
xvcv_mdlc_core_modifying_traits_commander_subclass_commander_councilor_remove_button_effect = {
    potential = { ruler = { has_trait = subclass_commander_councilor } }
    # allow = { always = yes }
    allow = {
        ruler = {
            xvcv_mdlc_core_modifying_still_has_subclass_traits_picked = no
        }
    }
    effect = {
        custom_tooltip = xvcv_mdlc_core_modifying_tooltip_remove_commander_subclass_commander_councilor
		hidden_effect = {
            ruler = {
                remove_trait = subclass_commander_councilor
                xvcv_mdlc_core_modifying_ruler_refund_trait_points_picks_common = yes
            }
            root.owner = {
                xvcv_mdlc_core_modifying_country_refund_trait_cost_common = yes
            }
		}
    }
}

################
### OFFICIAL ###
################

#subclass_official_economy_councilor #advisor
xvcv_mdlc_core_modifying_traits_official_subclass_official_economy_councilor_add_button_effect = {
    potential = { ruler = { NOT = { has_trait = subclass_official_economy_councilor } } }
    allow = {
        custom_tooltip = xvcv_mdlc_core_modifying_tooltip_add_official_subclass_official_economy_councilor
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_diplomacy_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_delegate }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_explorer }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_scholar }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_admiral }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_general }
        xvcv_mdlc_core_modifying_check_trait_resources_cost_common = yes
        xvcv_mdlc_core_modifying_ruler_check_trait_points_cost_common = yes
        xvcv_mdlc_core_modifying_ruler_check_trait_picks = yes
        has_paragon_dlc = yes
    }
    effect = {
        xvcv_mdlc_core_modifying_set_subclass_effect = { CLASS = official ID = subclass_official_economy_councilor }
		hidden_effect = {
            ruler = {
                xvcv_mdlc_core_modifying_ruler_deduct_trait_points_common = yes
            }
            root.owner = {
                xvcv_mdlc_core_modifying_country_deduct_trait_costs_common = yes
            }
        }
    }
}
xvcv_mdlc_core_modifying_traits_official_subclass_official_economy_councilor_remove_button_effect = {
    potential = { ruler = { has_trait = subclass_official_economy_councilor } }
    # allow = { always = yes }
    allow = {
        ruler = {
            xvcv_mdlc_core_modifying_still_has_subclass_traits_picked = no
        }
        
    }
    effect = {
        custom_tooltip = xvcv_mdlc_core_modifying_tooltip_remove_official_subclass_official_economy_councilor
		hidden_effect = {
            ruler = {
                remove_trait = subclass_official_economy_councilor
                xvcv_mdlc_core_modifying_ruler_refund_trait_points_picks_common = yes
            }
            root.owner = {
                xvcv_mdlc_core_modifying_country_refund_trait_cost_common = yes
            }
		}
    }
}
#subclass_official_diplomacy_councilor
xvcv_mdlc_core_modifying_traits_official_subclass_official_diplomacy_councilor_add_button_effect = {
    potential = { ruler = { NOT = { has_trait = subclass_official_diplomacy_councilor } } }
    allow = {
        custom_tooltip = xvcv_mdlc_core_modifying_tooltip_add_official_subclass_official_diplomacy_councilor
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_economy_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_delegate }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_explorer }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_scholar }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_admiral }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_general }
        xvcv_mdlc_core_modifying_check_trait_resources_cost_common = yes
        xvcv_mdlc_core_modifying_ruler_check_trait_points_cost_common = yes
        xvcv_mdlc_core_modifying_ruler_check_trait_picks = yes
        has_paragon_dlc = yes
    }
    effect = {
        xvcv_mdlc_core_modifying_set_subclass_effect = { CLASS = official ID = subclass_official_diplomacy_councilor }
		hidden_effect = {
            ruler = {
                xvcv_mdlc_core_modifying_ruler_deduct_trait_points_common = yes
            }
            root.owner = {
                xvcv_mdlc_core_modifying_country_deduct_trait_costs_common = yes
            }
        }
    }
}
xvcv_mdlc_core_modifying_traits_official_subclass_official_diplomacy_councilor_remove_button_effect = {
    potential = { ruler = { has_trait = subclass_official_diplomacy_councilor } }
    # allow = { always = yes }
    allow = {
        ruler = {
            xvcv_mdlc_core_modifying_still_has_subclass_traits_picked = no
        }
        
    }
    effect = {
        custom_tooltip = xvcv_mdlc_core_modifying_tooltip_remove_official_subclass_official_diplomacy_councilor
		hidden_effect = {
            ruler = {
                remove_trait = subclass_official_diplomacy_councilor
                xvcv_mdlc_core_modifying_ruler_refund_trait_points_picks_common = yes
            }
            root.owner = {
                xvcv_mdlc_core_modifying_country_refund_trait_cost_common = yes
            }
		}
    }
}

#################
### SCIENTIST ###
#################

#subclass_scientist_councilor
xvcv_mdlc_core_modifying_traits_scientist_subclass_scientist_councilor_add_button_effect = {
    potential = { ruler = { NOT = { has_trait = subclass_scientist_councilor } } }
    allow = {
        custom_tooltip = xvcv_mdlc_core_modifying_tooltip_add_scientist_subclass_scientist_councilor
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_scholar }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = scientist ID = subclass_scientist_explorer }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_diplomacy_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_economy_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_delegate }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = official ID = subclass_official_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_councilor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_governor }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_admiral }
        xvcv_mdlc_core_modifying_requires_no_ruler_subclass_or_focus_trigger = { CLASS = commander ID = subclass_commander_general }
        xvcv_mdlc_core_modifying_check_trait_resources_cost_common = yes
        xvcv_mdlc_core_modifying_ruler_check_trait_points_cost_common = yes
        xvcv_mdlc_core_modifying_ruler_check_trait_picks = yes
        has_paragon_dlc = yes
    }
    effect = {
        xvcv_mdlc_core_modifying_set_subclass_effect = { CLASS = scientist ID = subclass_scientist_councilor }
		hidden_effect = {
            ruler = {
                xvcv_mdlc_core_modifying_ruler_deduct_trait_points_common = yes
            }
            root.owner = {
                xvcv_mdlc_core_modifying_country_deduct_trait_costs_common = yes
            }
        }
    }
}
xvcv_mdlc_core_modifying_traits_scientist_subclass_scientist_councilor_remove_button_effect = {
    potential = { ruler = { has_trait = subclass_scientist_councilor } }
    # allow = { always = yes }
    allow = {
        ruler = {
            xvcv_mdlc_core_modifying_still_has_subclass_traits_picked = no
        }
    }
    effect = {
        custom_tooltip = xvcv_mdlc_core_modifying_tooltip_remove_scientist_subclass_scientist_councilor
		hidden_effect = {
            ruler = {
                remove_trait = subclass_scientist_councilor
                xvcv_mdlc_core_modifying_ruler_refund_trait_points_picks_common = yes
            }
            root.owner = {
                xvcv_mdlc_core_modifying_country_refund_trait_cost_common = yes
            }
		}
    }
}

oxr_mdlc_core_modifying_trait_points_info_effect = {
	potential = { always = yes }
	allow = { always = yes }
	effect = {
		ruler = {
			custom_tooltip = oxr_mdlc_core_modifying_max_points_tooltip
			hidden_effect = {
				log = "helloooo from the core modifying gui"
			}
		}
	}
}

oxr_mdlc_core_modifying_trait_picks_info_effect = {
	potential = { always = yes }
	allow = { always = yes }
	effect = {
		ruler = {
			custom_tooltip = oxr_mdlc_core_modifying_max_picks_tooltip
			hidden_effect = {
				log = "helloooo from the core modifying gui"
			}
		}
	}
}
